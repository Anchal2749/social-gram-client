{"version":3,"sources":["redux/actions/notifyAction.js","pages/message/index.js","pages/register.js","components/adminDashboard/main/Main.js","components/adminDashboard/adminManagement/RegisterAdmin.js","components/adminDashboard/adminManagement/AdminManagement.js","components/adminDashboard/ContentList.js","components/adminDashboard/spamManagement/Spam.js","components/adminDashboard/usersManagement/UsersManagement.js","components/adminDashboard/sidebar/Sidebar.js","pages/adminDashboard.js","components/home/Posts.js","components/home/Status.js","components/home/RightSideBar.js","pages/home.js","components/message/LeftSide.js","components/Carousel.js","components/home/post_card/CardBody.js","components/LikeButton.js","components/ShareModal.js","components/home/post_card/CardFooter.js","components/home/post_card/CardHeader.js","components/home/comments/CommentMenu.js","redux/actions/commentAction.js","components/home/InputComment.js","components/home/comments/CommentCard.js","components/home/comments/CommentDisplay.js","components/home/Comments.js","components/PostCard.js","redux/actions/adminAction.js","pages/discover.js","images/loading.gif","redux/actions/globalTypes.js","components/Avatar.js","redux/actions/profileAction.js","pages/post/[id].js","components/profile/EditProfile.js","components/profile/Following.js","components/profile/Followers.js","components/profile/ChangePassword.js","components/profile/Info.js","components/profile/Posts.js","components/profile/Saved.js","pages/profile/[id].js","components/message/MsgDisplay.js","components/message/RightSide.js","pages/message/[id].js","pages sync /^/.*$","redux/actions/messageAction.js","utils/valid.js","redux/actions/authAction.js","components/UserCard.js","utils/mediaShow.js","utils/fetchData.js","utils/upoader.js","utils/imageUpload.js","components/FollowBtn.js","components/NotFound.js","customRouter/PageRender.js","customRouter/PrivateRouter.js","components/alert/Loading.js","components/alert/Toast.js","components/alert/Alert.js","components/NotifyModal.js","components/header/Menu.js","components/header/Search.js","components/header/Header.js","components/StatusModal.js","audio/pristine-609.mp3","SocketClient.js","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/userTypeReducer.js","redux/reducers/alertReducer.js","redux/reducers/themeReducer.js","redux/reducers/profileReducer.js","redux/reducers/statusReducer.js","redux/reducers/postReducer.js","redux/reducers/modalReducer.js","redux/reducers/detailPostReducer.js","redux/reducers/adminReducer.js","redux/reducers/discoverReducer.js","redux/reducers/suggestionsReducer.js","redux/reducers/socketReducer.js","redux/reducers/notifyReducer.js","redux/reducers/messageReducer.js","redux/reducers/index.js","redux/store.js","index.js","redux/actions/suggestionsAction.js","components/LoadMoreBtn.js","redux/actions/discoverAction.js","redux/actions/postAction.js","components/PostThumb.js","components/Icons.js","pages/login.js"],"names":["NOTIFY_TYPES","GET_NOTIFIES","CREATE_NOTIFY","REMOVE_NOTIFY","UPDATE_NOTIFY","UPDATE_SOUND","DELETE_ALL_NOTIFICATIONS","createNotify","_ref","msg","auth","socket","async","res","postDataAPI","token","emit","data","notify","user","username","avatar","err","dispatch","type","GLOBALTYPES","ALERT","payload","error","response","removeNotify","_ref2","deleteDataAPI","id","url","getNotifies","getDataAPI","notifies","isReadNotify","_ref3","isRead","patchDataAPI","_id","deleteAllNotifies","Message","console","log","_jsxs","className","children","_jsx","style","borderRight","LeftSide","fontSize","Register","alert","useSelector","state","useDispatch","history","useHistory","userData","setUserData","useState","fullname","email","password","cf_password","gender","typePass","setTypePass","typeCfPass","setTypeCfPass","useEffect","push","handleChangeInput","e","name","value","target","onSubmit","preventDefault","register","color","htmlFor","onChange","background","toLowerCase","replace","onClick","defaultChecked","Link","to","Main","admin","getTotalUsers","getTotalPosts","getTotalComments","getTotalLikes","getTotalSpamPosts","getTotalActiveUsers","total_users","total_comments","total_posts","total_spam_posts","total_likes","total_active_users","RegisterAdmin","initialState","role","registerAdmin","AdminManagement","ContentList","content","length","map","post","reports","Avatar","size","src","moment","createdAt","fromNow","cursor","deleteSpamPost","handleDeletePost","Spam","getSpamPosts","spam_posts","UsersManagement","Sidebar","adminMenu","setAdminMenu","_Fragment","href","logout","AdminDashboard","Posts","homePosts","theme","load","setLoad","posts","PostCard","LoadIcon","alt","LoadMoreBtn","result","page","handleLoadMore","POST_TYPES","GET_POSTS","Status","STATUS","marginLeft","textShadow","RightSideBar","suggestions","borderRadius","UserCard","loading","getSuggestions","users","FollowBtn","Home","message","useParams","pageEnd","useRef","setPage","search","setSearch","searchUsers","setSearchUsers","handleAddUser","addUser","isActive","firstLoad","getConversations","IntersectionObserver","entries","isIntersecting","p","threshold","observe","current","resultUsers","placeholder","display","cclassName","opacity","ref","Carousel","images","index","img","_img$url","match","controls","filter","width","CardBody","readMore","setReadMore","slice","LikeButton","isLike","handleLike","handleUnLike","ShareModal","setIsShare","FacebookShareButton","FacebookIcon","round","TwitterShareButton","TwitterIcon","EmailShareButton","EmailIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","WhatsappIcon","PinterestShareButton","PinterestIcon","RedditShareButton","RedditIcon","LinkedinShareButton","LineIcon","CardFooter","setIsLike","saved","setSaved","loadLike","setLoadLike","saveLoad","setSaveLoad","isShare","likes","find","like","likePost","unLikePost","unSavePost","savePost","padding","comments","CardHeader","handleEditPost","onEdit","window","confirm","deletePost","handleCopyLink","navigator","clipboard","writeText","handleReportPost","reportPost","CommentMenu","comment","setOnEdit","handleRemove","_ref5","deleteArr","cm","reply","newPost","da","UPDATE_POST","forEach","item","text","recipients","tag","deleteComment","MenuItem","InputComment","onReply","setOnReply","setContent","trim","newComment","Date","toISOString","commentId","postId","postUserId","newData","image","createComment","Icons","CommentCard","styleCard","pointerEvents","rows","textDecoration","marginRight","fontWeight","handleUpdate","newComments","EditData","updateComment","handleReply","likeComment","_ref4","DeleteData","unLikeComment","CommentDisplay","replyCm","showRep","setShowRep","next","setNext","Comments","setComments","showComments","setShowComments","replyComments","setReplyComments","newCm","newReply","ADMIN_TYPES","GET_TOTAL_USERS","GET_TOTAL_POSTS","GET_TOTAL_COMMENTS","GET_TOTAL_LIKES","GET_TOTAL_SPAM_POSTS","GET_TOTAL_ACTIVE_USERS","GET_SPAM_POSTS","LOADING_ADMIN","DELETE_POST","spamPosts","success","Discover","discover","getDiscoverPosts","PostThumb","DISCOVER_TYPES","UPDATE_POSTS","AUTH","THEME","MODAL","USER_TYPE","SOCKET","PROFILE_TYPES","LOADING","GET_USER","FOLLOW","UNFOLLOW","GET_ID","getProfileUsers","res1","updateProfileUser","story","media","imageUpload","follow","newUser","every","followers","following","unfollow","Post","setPost","detailPost","getPost","newArr","EditProfile","mobile","address","website","SetAvatar","handleInput","URL","createObjectURL","accept","file","files","checkImage","top","right","transform","cols","Following","setShowFollowing","Followers","setShowFollowers","ChangePassword","setChangePassword","oldPassword","setOldPassword","newPassword","setNewPassword","cnfNewPassword","setCnfNewPassword","changePassword","Info","profile","showFollowers","showFollowing","height","rel","setPosts","setResult","Saved","savePosts","setSavePosts","then","catch","Profile","saveTab","setSaveTab","ids","MsgDisplay","maxWidth","maxHeight","videoShow","imageShow","toLocaleString","RightSide","setUser","setText","setData","setMedia","loadMedia","setLoadMedia","refDisplay","sender","MESSAGE_TYPES","GET_MESSAGES","messages","getMessages","scrollIntoView","behaviour","block","getMessagesData","resultData","marginTop","splice","handleDeleteMedia","recipient","addMessage","multiple","newMedia","disabled","Conversation","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","ADD_USER","ADD_MESSAGE","GET_CONVERSATIONS","conversations","cv","valid","errMsg","errLength","login","access_token","localStorage","setItem","adminLogin","refreshToken","getItem","check","removeItem","location","border","handleClose","handleCloseAll","flexWrap","axios","get","headers","Authorization","patch","delete","cloudinary","config","cloud_name","api_key","api_secret","imgArr","formData","FormData","camera","append","fetch","method","body","json","public_id","secure_url","followed","setFollowed","NotFound","minHeight","left","generatePage","pageName","React","createElement","require","default","PageRender","PrivateRouter","props","Route","Redirect","Loading","zIndex","fill","x","y","Toast","handleShow","bgColor","minWidth","title","Alert","NotifyModal","handleSound","sound","boxShadow","borderTopRightRadius","overflow","handleIsRead","handleDeleteAll","Menu","pathname","useLocation","pn","label","icon","path","link","Search","setUsers","Header","handleRefreshHome","scrollTo","getPosts","StatusModal","status","setImages","stream","setStream","videoRef","refCanvas","tracks","setTracks","updatePost","createPost","stop","deleteImages","autoPlay","muted","handleStopStream","handleCapture","clientWidth","clientHeight","setAttribute","getContext","drawImage","toDataURL","handleStream","mediaDevices","getUserMedia","video","mediaStream","srcObject","play","track","getTracks","newImages","SocketClient","audioRef","on","totalActiveUsers","off","spawnNotification","Notification","onclick","open","audioTone","App","modal","userType","io","close","permission","requestPermission","Router","exact","component","Login","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","authReducer","arguments","undefined","action","userTypeReducer","alertReducer","themeReducer","profileReducer","statusReducer","postReducer","CREATE_POST","LOADING_POST","REPORT_POST","modalReducer","detailPostReducer","GET_POST","discoverReducer","suggestionsReducer","SUGGEST_TYPES","GET_USERS","socketReducer","messageReducer","reverse","combineReducers","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","DataProvider","Provider","ReactDOM","render","StrictMode","document","getElementById","SAVE_POST","imgNewUrl","imgOldUrl","_ref6","_ref7","reportExist","report","_ref8","_ref9","_post$images$","_post$images$$url","_post$images$2","_post$images$3","Picker","showSkinTones","showPreview","onSelect","emoji","native","i18n","clear","notfound","skintext","categories","recent","smileys","people","nature","foods","activity","places","objects","symbols","flags","custom","categorieslabel","skintones","setUserType","fontFamily"],"mappings":"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","file":"static/js/main.b53c03b1.chunk.js","sourcesContent":["import { GLOBALTYPES } from './globalTypes';\r\nimport { postDataAPI, deleteDataAPI, getDataAPI, patchDataAPI } from '../../utils/fetchData';\r\n\r\nexport const NOTIFY_TYPES = {\r\n  GET_NOTIFIES: \"GET_NOTIFIES\",\r\n  CREATE_NOTIFY: \"CREATE_NOTIFY\",\r\n  REMOVE_NOTIFY: \"REMOVE_NOTIFY\",\r\n  UPDATE_NOTIFY: \"UPDATE_NOTIFY\",\r\n  UPDATE_SOUND: \"UPDATE_SOUND\",\r\n  DELETE_ALL_NOTIFICATIONS: \"DELETE_ALL_NOTIFICATIONS\",\r\n};\r\n\r\nexport const createNotify = ({msg, auth, socket }) => async (dispatch) => {\r\n\r\n    try {\r\n        const res = await postDataAPI(`notify`, msg, auth.token);\r\n        socket.emit('createNotify', {\r\n          ...res.data.notify,\r\n          user: {\r\n            username: auth.user.username,\r\n            avatar: auth.user.avatar,\r\n          }\r\n        });\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n};\r\n\r\nexport const removeNotify = ({ msg, auth, socket }) => async (dispatch) => {\r\n  try {\r\n    await deleteDataAPI(`notify/${msg.id}?url=${msg.url}`, auth.token);\r\n    socket.emit(\"removeNotify\", msg);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const getNotifies = (token) => async (dispatch) => {\r\n  try {\r\n    const res = await getDataAPI('notifies', token);\r\n    \r\n    dispatch({type: NOTIFY_TYPES.GET_NOTIFIES, payload: res.data.notifies});\r\n    \r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const isReadNotify = ({msg, auth}) => async (dispatch) => {\r\n\r\n  dispatch({type: NOTIFY_TYPES.UPDATE_NOTIFY, payload: {...msg, isRead: true} });\r\n\r\n  try {\r\n    await patchDataAPI(`isReadNotify/${msg._id}`,null, auth.token);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteAllNotifies = (token) => async (dispatch) => {\r\n  dispatch({ type: NOTIFY_TYPES.DELETE_ALL_NOTIFICATIONS, payload: [] });\r\n\r\n  try {\r\n    await deleteDataAPI(`deleteAllNotify`, token);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n","import React from 'react'\r\nimport LeftSide from '../../components/message/LeftSide'\r\n\r\nconst Message = () => {\r\n  console.log(\"ki\")\r\n    return (\r\n      <div className=\"message d-flex\">\r\n        <div className=\"col-md-4 px-0\" style={{borderRight: '1px solid #ddd'}}>\r\n          <LeftSide />\r\n        </div>\r\n\r\n        <div className=\"col-md-8 px-0\">\r\n          <div className=\"d-flex justify-content-center align-items-center flex-column h-100\">\r\n            <i className=\"fa fa-bolt color-c1\" style={{fontSize: '5rem'}} />  \r\n            <h4>Messenger</h4>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Message\r\n","import React, { useState, useEffect} from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { register } from '../redux/actions/authAction';\r\n\r\nconst Register = () => {\r\n    const {auth, alert} = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n     const initialState = { fullname: \"\", username: \"\", email: \"\", password: \"\", cf_password: \"\", gender: \"male\" };\r\n     const [userData, setUserData] = useState(initialState);\r\n     const { fullname, username, email, password, cf_password } = userData;\r\n\r\n     const [typePass, setTypePass] = useState(false);\r\n     const [typeCfPass, setTypeCfPass] = useState(false);\r\n\r\n    useEffect(() => {\r\n      if (auth.token) history.push(\"/\");\r\n    }, [auth.token, history]);\r\n\r\n   \r\n\r\n    \r\n\r\n    const handleChangeInput = (e) => {\r\n      const { name, value } = e.target;\r\n      setUserData({ ...userData, [name]: value });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      dispatch(register(userData));\r\n    };\r\n\r\n    return (\r\n      <div className=\"auth_page\">\r\n        <form onSubmit={handleSubmit} className=\"inner-shadow\">\r\n          <h3 className=\"text-uppercase text-center mb-4 auth-heading\" style={{color:\"crimson\"}}>\r\n            Socialgram\r\n          </h3>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"fullname\" className=\"form-label\">\r\n              Full name\r\n            </label>\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"fullname\"\r\n                onChange={handleChangeInput}\r\n                value={fullname}\r\n                name=\"fullname\"\r\n                style={{ background: `${alert.fullname ? \"#fd2d6a14\" : \"\"} ` }}\r\n              />\r\n            </div>\r\n            <small className=\"form-text text-danger\">\r\n              {alert.fullname ? alert.fullname : \"\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"username\" className=\"form-label\">\r\n              User name\r\n            </label>\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"username\"\r\n                onChange={handleChangeInput}\r\n                value={username.toLowerCase().replace(/ /g, \"\")}\r\n                name=\"username\"\r\n                style={{ background: `${alert.username ? \"#fd2d6a14\" : \"\"} ` }}\r\n              />\r\n            </div>\r\n            <small className=\"form-text text-danger\">\r\n              {alert.username ? alert.username : \"\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"email\" className=\"form-label\">\r\n              Email address\r\n            </label>\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                id=\"email\"\r\n                aria-describedby=\"emailHelp\"\r\n                onChange={handleChangeInput}\r\n                value={email}\r\n                name=\"email\"\r\n                style={{ background: `${alert.email ? \"#fd2d6a14\" : \"\"} ` }}\r\n              />\r\n            </div>\r\n            <small className=\"form-text text-danger\">\r\n              {alert.email ? alert.email : \"\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"password\" className=\"form-label\">\r\n              Password\r\n            </label>\r\n            <div className=\"pass\">\r\n              <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n                <input\r\n                  type={typePass ? \"text\" : \"password\"}\r\n                  className=\"form-control\"\r\n                  id=\"password\"\r\n                  onChange={handleChangeInput}\r\n                  value={password}\r\n                  name=\"password\"\r\n                  style={{\r\n                    background: `${alert.password ? \"#fd2d6a14\" : \"\"} `,\r\n                  }}\r\n                />\r\n                <small onClick={() => setTypePass(!typePass)}>\r\n                  {typePass ? \"Hide\" : \"Show\"}\r\n                </small>\r\n              </div>\r\n            </div>\r\n            <small className=\"form-text text-danger\">\r\n              {alert.password ? alert.password : \"\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"cf_password\" className=\"form-label\">\r\n              Confirm Password\r\n            </label>\r\n            <div className=\"pass\">\r\n              <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n                <input\r\n                  type={typeCfPass ? \"text\" : \"password\"}\r\n                  className=\"form-control\"\r\n                  id=\"cf_password\"\r\n                  onChange={handleChangeInput}\r\n                  value={cf_password}\r\n                  name=\"cf_password\"\r\n                  style={{\r\n                    background: `${alert.cf_password ? \"#fd2d6a14\" : \"\"} `,\r\n                  }}\r\n                />\r\n                <small onClick={() => setTypeCfPass(!typeCfPass)}>\r\n                  {typeCfPass ? \"Hide\" : \"Show\"}\r\n                </small>\r\n              </div>\r\n            </div>\r\n            <small className=\"form-text text-danger\">\r\n              {alert.cf_password ? alert.cf_password : \"\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"d-flex justify-content-evenly  mx-0 mb-1\">\r\n            <label htmlFor=\"male\">\r\n              Male:\r\n              <input\r\n                type=\"radio\"\r\n                id=\"male\"\r\n                name=\"gender\"\r\n                value=\"male\"\r\n                defaultChecked\r\n                onChange={handleChangeInput}\r\n              />\r\n            </label>\r\n\r\n            <label htmlFor=\"female\">\r\n              Female:\r\n              <input\r\n                type=\"radio\"\r\n                id=\"female\"\r\n                name=\"gender\"\r\n                value=\"female\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </label>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center\" style={{color:\"crimson\"}}\r\n          >\r\n            Register\r\n          </button>\r\n          <p className=\"my-2\">\r\n            Already have an account?{\" \"}\r\n            <Link to=\"/\" style={{ color: \"crimson\" }}>\r\n              Login Now.\r\n            </Link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Register;\r\n","import \"./Main.css\";\r\nimport { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\n// import Chart from \"../charts/Chart\";\r\nimport {\r\n  getTotalUsers,\r\n  getTotalPosts,\r\n  getTotalComments,\r\n  getTotalLikes,\r\n  getTotalActiveUsers,\r\n  getTotalSpamPosts,\r\n} from \"../../../redux/actions/adminAction\";\r\n\r\n\r\nconst Main = () => {\r\n    const { auth, admin, socket } = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n      dispatch(getTotalUsers(auth.token));\r\n      dispatch(getTotalPosts(auth.token));\r\n      dispatch(getTotalComments(auth.token));\r\n      dispatch(getTotalLikes(auth.token));\r\n      dispatch(getTotalSpamPosts(auth.token));\r\n      dispatch(getTotalActiveUsers({ auth, socket }));\r\n    }, [dispatch, auth.token, socket, auth]);\r\n  return (\r\n    <div className=\"main_admin\">\r\n      <div className=\"main__container\">\r\n        {/* <!-- MAIN TITLE STARTS HERE --> */}\r\n\r\n        <div className=\"main__title\">\r\n          <div className=\"main__greeting\">\r\n            <h1>Hello {auth.user.username}</h1>\r\n            <p>Welcome to your Admin Dashboard</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* <!-- MAIN TITLE ENDS HERE --> */}\r\n\r\n        {/* <!-- MAIN CARDS STARTS HERE --> */}\r\n        <div className=\"main__cards\">\r\n          <div className=\"card_admin\">\r\n            <i\r\n              className=\"fa fa-users fa-2x text-lightblue\"\r\n              aria-hidden=\"true\"\r\n            ></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Users</p>\r\n              <span className=\"font-bold text-title\">{admin.total_users}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card_admin\">\r\n            <i className=\"fa fa-comments fa-2x text-red\" aria-hidden=\"true\"></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Comments</p>\r\n              <span className=\"font-bold text-title\">\r\n                {admin.total_comments}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card_admin\">\r\n            <i\r\n              className=\"fa fa-camera fa-2x text-yellow\"\r\n              aria-hidden=\"true\"\r\n            ></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Posts</p>\r\n              <span className=\"font-bold text-title\">{admin.total_posts}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card_admin\">\r\n            <i className=\"fa fa-ban fa-2x text-red\" aria-hidden=\"true\"></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Reported Posts</p>\r\n              <span className=\"font-bold text-title\">\r\n                {admin.total_spam_posts}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card_admin\">\r\n            <i\r\n              className=\"fa fa-thumbs-up fa-2x text-green\"\r\n              aria-hidden=\"true\"\r\n            ></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Likes</p>\r\n              <span className=\"font-bold text-title\">{admin.total_likes}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card_admin\">\r\n            <i\r\n              className=\"fa fa-check-circle fa-2x  text-green\"\r\n              aria-hidden=\"true\"\r\n            ></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Active Users</p>\r\n              <span className=\"font-bold text-title\">\r\n                {admin.total_active_users}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* <!-- MAIN CARDS ENDS HERE --> */}\r\n\r\n        {/* <!-- CHARTS STARTS HERE \r\n        <div className=\"charts\">\r\n          <div className=\"charts__left\">\r\n            <div className=\"charts__left__title\">\r\n              <div>\r\n                <h1>Daily Reports</h1>\r\n                <p>Cupertino, California, USA</p>\r\n              </div>\r\n              <i className=\"fa fa-usd\" aria-hidden=\"true\"></i>\r\n            </div>\r\n            <Chart />\r\n          </div>\r\n\r\n          <div className=\"charts__right\">\r\n            <div className=\"charts__right__title\">\r\n              <div>\r\n                <h1>Stats Reports</h1>\r\n                <p>Cupertino, California, USA</p>\r\n              </div>\r\n              <i className=\"fa fa-usd\" aria-hidden=\"true\"></i>\r\n            </div>\r\n\r\n            <div className=\"charts__right__cards\">\r\n              <div className=\"card1\">\r\n                <h1>Income</h1>\r\n                <p>$75,300</p>\r\n              </div>\r\n\r\n              <div className=\"card2\">\r\n                <h1>Sales</h1>\r\n                <p>$124,200</p>\r\n              </div>\r\n\r\n              <div className=\"card3\">\r\n                <h1>Users</h1>\r\n                <p>3900</p>\r\n              </div>\r\n\r\n              <div className=\"card4\">\r\n                <h1>Orders</h1>\r\n                <p>1881</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        CHARTS ENDS HERE --> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { registerAdmin } from \"../../../redux/actions/authAction\";\r\n\r\nconst RegisterAdmin = () => {\r\n  const { auth, alert } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialState = {\r\n    fullname: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    cf_password: \"\",\r\n    gender: \"male\"\r\n  };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { fullname, username, email, password, cf_password } = userData;\r\n\r\n  const [typePass, setTypePass] = useState(false);\r\n  const [typeCfPass, setTypeCfPass] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (auth.token) history.push(\"/\");\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    userData.role = \"admin\";\r\n    dispatch(registerAdmin(userData));\r\n    setUserData(initialState);\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit} className=\"inner-shadow\">\r\n        <h3 className=\"text-uppercase text-center mb-4 auth-heading\">\r\n          Campus Connect\r\n        </h3>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"fullname\" className=\"form-label\">\r\n            Full name\r\n          </label>\r\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"fullname\"\r\n              onChange={handleChangeInput}\r\n              value={fullname}\r\n              name=\"fullname\"\r\n              style={{ background: `${alert.fullname ? \"#fd2d6a14\" : \"\"} ` }}\r\n            />\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.fullname ? alert.fullname : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"username\" className=\"form-label\">\r\n            User name\r\n          </label>\r\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"username\"\r\n              onChange={handleChangeInput}\r\n              value={username.toLowerCase().replace(/ /g, \"\")}\r\n              name=\"username\"\r\n              style={{ background: `${alert.username ? \"#fd2d6a14\" : \"\"} ` }}\r\n            />\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.username ? alert.username : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"email\" className=\"form-label\">\r\n            Email address\r\n          </label>\r\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              id=\"email\"\r\n              aria-describedby=\"emailHelp\"\r\n              onChange={handleChangeInput}\r\n              value={email}\r\n              name=\"email\"\r\n              style={{ background: `${alert.email ? \"#fd2d6a14\" : \"\"} ` }}\r\n            />\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.email ? alert.email : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"password\" className=\"form-label\">\r\n            Password\r\n          </label>\r\n          <div className=\"pass\">\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type={typePass ? \"text\" : \"password\"}\r\n                className=\"form-control\"\r\n                id=\"password\"\r\n                onChange={handleChangeInput}\r\n                value={password}\r\n                name=\"password\"\r\n                style={{ background: `${alert.password ? \"#fd2d6a14\" : \"\"} ` }}\r\n              />\r\n              <small onClick={() => setTypePass(!typePass)}>\r\n                {typePass ? \"Hide\" : \"Show\"}\r\n              </small>\r\n            </div>\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.password ? alert.password : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"cf_password\" className=\"form-label\">\r\n            Confirm Password\r\n          </label>\r\n          <div className=\"pass\">\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type={typeCfPass ? \"text\" : \"password\"}\r\n                className=\"form-control\"\r\n                id=\"cf_password\"\r\n                onChange={handleChangeInput}\r\n                value={cf_password}\r\n                name=\"cf_password\"\r\n                style={{\r\n                  background: `${alert.cf_password ? \"#fd2d6a14\" : \"\"} `,\r\n                }}\r\n              />\r\n              <small onClick={() => setTypeCfPass(!typeCfPass)}>\r\n                {typeCfPass ? \"Hide\" : \"Show\"}\r\n              </small>\r\n            </div>\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.cf_password ? alert.cf_password : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"d-flex justify-content-evenly  mx-0 mb-1\">\r\n          <label htmlFor=\"male\">\r\n            Male:\r\n            <input\r\n              type=\"radio\"\r\n              id=\"male\"\r\n              name=\"gender\"\r\n              value=\"male\"\r\n              defaultChecked\r\n              onChange={handleChangeInput}\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"female\">\r\n            Female:\r\n            <input\r\n              type=\"radio\"\r\n              id=\"female\"\r\n              name=\"gender\"\r\n              value=\"female\"\r\n              onChange={handleChangeInput}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center\"\r\n        >\r\n          Register\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterAdmin;\r\n","import React from 'react';\r\nimport \"../main/Main.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport RegisterAdmin from \"./RegisterAdmin\";\r\n\r\nconst AdminManagement = () => {\r\n        const { auth } = useSelector((state) => state);\r\n    return (\r\n      <div className=\"main_admin\">\r\n        <div className=\"main__container\">\r\n          <div className=\"main__title\">\r\n            <div className=\"main__greeting\">\r\n              <h1>Hello {auth.user.username}</h1>\r\n              <p>Welcome to your Admin Management</p>\r\n            </div>\r\n          </div>\r\n          <RegisterAdmin />\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default AdminManagement\r\n","import React from 'react'\r\nimport Avatar from '../Avatar';\r\nimport { deleteSpamPost } from '../../redux/actions/adminAction'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\nconst ContentList = ({content}) => {\r\n      const { auth, socket } = useSelector((state) => state);\r\n        const dispatch = useDispatch();\r\n\r\n     const handleDeletePost = (post) => {\r\n       \r\n        dispatch(deleteSpamPost({ post, auth, socket }));\r\n       \r\n     };\r\n    return (\r\n      <div>\r\n        {content.length > 0 ? (\r\n          content.map((post) => (\r\n            <div className=\"admin_content_display\">\r\n              <span className=\"spam_report\">\r\n                Reports: {post.reports.length}\r\n              </span>\r\n\r\n              <div className=\"d-flex\">\r\n                <Avatar size=\"big-avatar\" src={post.user.avatar} />\r\n                <div className=\"d-flex flex-column ms-3\">\r\n                  <span className=\"spam_username\">{post.user.username}</span>\r\n                  <span className=\"spam_email\">{post.user.email}</span>\r\n                </div>\r\n                <span className=\"spam_time text-muted\">\r\n                  ~{moment(post.createdAt).fromNow()}\r\n                </span>\r\n              </div>\r\n              <div\r\n                className=\"ms-auto d-flex flex-column \"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => handleDeletePost(post)}\r\n              >\r\n                <span className=\"material-icons\">delete</span>Remove\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <h1>Nothing to display</h1>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default ContentList\r\n","import React, { useEffect } from \"react\";\r\nimport \"./Spam.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ContentList from \"../ContentList\";\r\nimport { getSpamPosts } from '../../../redux/actions/adminAction';\r\n\r\nconst Spam = () => {\r\n  const { auth, admin } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getSpamPosts(auth.token));\r\n  }, [dispatch, auth.token])\r\n\r\n\r\n  return (\r\n    <div className=\"main_admin\">\r\n      <div className=\"main__container\">\r\n        <div className=\"main__title\">\r\n          <div className=\"main__greeting\">\r\n            <h1>Hello {auth.user.username}</h1>\r\n            <p>Spam Dashboard</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"spam\">\r\n          <ContentList content={admin.spam_posts} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spam;\r\n","import React from \"react\";\r\nimport \"../main/Main.css\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst UsersManagement = () => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"main_admin\">\r\n      <div className=\"main__container\">\r\n        <div className=\"main__title\">\r\n          <div className=\"main__greeting\">\r\n            <h1>Hello {auth.user.username}</h1>\r\n            <p>Welcome to your Admin Dashboard</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersManagement;\r\n","import { Link } from 'react-router-dom'\r\nimport { useDispatch } from \"react-redux\";\r\nimport { logout } from \"../../../redux/actions/authAction\";\r\nimport \"./Sidebar.css\";\r\nimport React, { useState } from \"react\";\r\nimport Main from \"../main/Main\";\r\nimport AdminManagement from \"../adminManagement/AdminManagement\";\r\nimport Spam from \"../spamManagement/Spam\";\r\nimport UsersManagement from \"../usersManagement/UsersManagement\";\r\n\r\n\r\nconst Sidebar = () => {\r\n  const dispatch = useDispatch();\r\n    const [adminMenu, setAdminMenu] = useState(1);\r\n\r\n\r\n  return (\r\n    <>\r\n      {adminMenu === 1 && <Main />}\r\n      {adminMenu === 2 && <AdminManagement />}\r\n      {adminMenu === 3 && <Spam />}\r\n      {adminMenu === 4 && <UsersManagement />}\r\n\r\n      <div className=\"sidebar_responsive\" id=\"sidebar\">\r\n        <div className=\"sidebar__title\">\r\n          <div className=\"sidebar__img\">\r\n            <h1>Socialgram</h1>\r\n          </div>\r\n          <i className=\"fa fa-times\" id=\"sidebarIcon\" aria-hidden=\"true\"></i>\r\n        </div>\r\n\r\n        <div className=\"sidebar__menu\">\r\n          <div\r\n            className={`sidebar__link ${adminMenu === 1 && \"active_menu_link\"}`}\r\n            onClick={() => setAdminMenu(1)}\r\n          >\r\n            <i className=\"fa fa-th\"></i>\r\n            <a href=\"#\">Dashboard</a>\r\n          </div>\r\n          <h2>ADMIN CONTROL</h2>\r\n          <div\r\n            className={`sidebar__link ${adminMenu === 2 && \"active_menu_link\"}`}\r\n            onClick={() => setAdminMenu(2)}\r\n          >\r\n            <i className=\"fa fa-lock\" aria-hidden=\"true\"></i>\r\n            <a href=\"#\">Admin Management</a>\r\n          </div>\r\n          <div\r\n            className={`sidebar__link ${adminMenu === 3 && \"active_menu_link\"}`}\r\n            onClick={() => setAdminMenu(3)}\r\n          >\r\n            <i className=\"fa fa-ban\"></i>\r\n            <a href=\"#\">Spams Management</a>\r\n          </div>\r\n          <div\r\n            className={`sidebar__link ${adminMenu === 4 && \"active_menu_link\"}`}\r\n            onClick={() => setAdminMenu(4)}\r\n          >\r\n            <i className=\"fa fa-wrench\"></i>\r\n            <a href=\"#\">Users Management</a>\r\n          </div>\r\n          <div className=\"sidebar__link\">\r\n            <i className=\"fa fa-archive\"></i>\r\n            <a href=\"#\">xyz</a>\r\n          </div>\r\n          <div className=\"sidebar__link\">\r\n            <i className=\"fa fa-handshake-o\"></i>\r\n            <a href=\"#\">xyz</a>\r\n          </div>\r\n\r\n          <div className=\"sidebar__logout\">\r\n            <i className=\"fa fa-power-off\"></i>\r\n            <Link to=\"/\" onClick={() => dispatch(logout())}>\r\n              Log out\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from 'react';\r\n// import Main from '../components/adminDashboard/main/Main';\r\nimport Sidebar from \"../components/adminDashboard/sidebar/Sidebar\";\r\n\r\n\r\nconst AdminDashboard = () => {\r\n\r\n  return (\r\n    <div className=\"container1\">\r\n      <Sidebar />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminDashboard;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport PostCard from \"../PostCard\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport LoadMoreBtn from \"../LoadMoreBtn\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { POST_TYPES } from \"../../redux/actions/postAction\";\r\n\r\nconst Posts = () => {\r\n  const { homePosts, auth, theme } = useSelector((state) => state);\r\n  const dispatch =  useDispatch();\r\n\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`posts?limit=${homePosts.page * 9}`, auth.token);\r\n    dispatch({ type: POST_TYPES.GET_POSTS, payload: {...res.data, page: homePosts.page + 1 } });\r\n    setLoad(false);\r\n  };\r\n  return (\r\n    <div className=\"posts\">\r\n      {homePosts.posts.map((post) => (\r\n        <PostCard key={post._id} post={post} theme={theme} />\r\n      ))}\r\n\r\n      {load && (\r\n        <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\r\n      )}\r\n\r\n      <LoadMoreBtn\r\n        result={homePosts.result}\r\n        page={homePosts.page}\r\n        load={load}\r\n        handleLoadMore={handleLoadMore}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React from 'react'\r\nimport Avatar from '../Avatar';\r\nimport { useSelector,useDispatch } from \"react-redux\";\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\n\r\nconst Status = () => {\r\n    const { auth } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n    return (\r\n      <div className=\"status my-3 d-flex\">\r\n        <div className=\"outer-shadow big-avatar-cover\">\r\n          <Avatar src={auth.user.avatar} size=\"big-avatar\" className=\"\" />\r\n        </div>\r\n        <button\r\n          onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}\r\n          className=\"btn-1 outer-shadow hover-in-shadow statusBtn flex-fill \"\r\n          style={{ marginLeft: \"7px\" }}\r\n        >\r\n          <span style={{ textShadow: \"var(--outer-shadow)\" }}>\r\n            {auth.user.username}, What's on your mind?\r\n          </span>\r\n        </button>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Status\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport UserCard from \"../UserCard\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\n\r\nimport { getSuggestions } from \"../../redux/actions/suggestionsAction\";\r\n\r\n\r\nconst RightSideBar = () => {\r\n\r\n    const { auth, suggestions } = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    return (\r\n      <div className=\"my-4\">\r\n        <div className=\"inner-shadow\" style={{ borderRadius: \"5px\" }}>\r\n          <UserCard user={auth.user} />\r\n        </div>\r\n        <div className=\"d-flex justify-content-between align-items-center my-2\">\r\n          <h5\r\n            className=\"color-c1\"\r\n            style={{ textShadow: \"var(--outer-shadow)\" }}\r\n          >\r\n            Suggestions\r\n          </h5>\r\n          {!suggestions.loading && (\r\n            <div className=\"outer-shadow hover-in-shadow btn-1 d-flex justify-content-center align-items-center\">\r\n              <i\r\n                className=\"fas fa-redo \"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => dispatch(getSuggestions(auth.token))}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {suggestions.loading ? (\r\n          <img\r\n            src={LoadIcon}\r\n            alt=\"Loading...\"\r\n            className=\"d-block mx-auto my-4\"\r\n          />\r\n        ) : (\r\n          <div className=\"suggestions\">\r\n            {suggestions.users.map((user) => (\r\n              <div\r\n                key={user._id}\r\n                className=\" mb-3 inner-shadow\"\r\n                style={{ borderRadius: \"5px\" }}\r\n              >\r\n                <UserCard key={user._id} user={user}>\r\n                  <FollowBtn key={user._id} user={user} />\r\n                </UserCard>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default RightSideBar\r\n","import React from 'react';\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport Posts from '../components/home/Posts';\r\nimport Status from '../components/home/Status';\r\nimport RightSideBar from \"../components/home/RightSideBar\";\r\n\r\nimport LoadIcon from '../images/loading.gif'\r\n\r\n\r\nconst Home = () => {\r\n  const { homePosts } = useSelector(state => state);\r\n    return (\r\n      <div className=\"home row mx-0\">\r\n        <div className=\"col-md-8\">\r\n          <Status />\r\n          {homePosts.loading ? (\r\n            <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n          ) : (homePosts.result === 0 ? <h2 className=\"text-center\">No Post</h2> :<Posts />\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"col-md-4\">\r\n          <RightSideBar />\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport { addUser, getConversations } from \"../../redux/actions/messageAction\";\r\nimport { getDataAPI } from '../../utils/fetchData';\r\nimport UserCard from \"../UserCard\";\r\n\r\nconst LeftSide = () => {\r\n    const { auth, message } = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n    const pageEnd = useRef();\r\n    const [page, setPage] = useState(0);\r\n\r\n    const [search, setSearch] = useState('');\r\n    const [searchUsers, setSearchUsers] = useState([]);\r\n\r\n    const handleSearch = async e => {\r\n        e.preventDefault();\r\n        if (!search) return setSearchUsers([]);\r\n\r\n    try {\r\n      const res = await getDataAPI(`search?username=${search}`, auth.token);\r\n      setSearchUsers(res.data.users);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n    };\r\n\r\n    const handleAddUser = (user) => {\r\n        setSearch('');\r\n        setSearchUsers([]);\r\n        dispatch(addUser({user, message}));\r\n        return history.push(`/message/${user._id}`);\r\n    };\r\n\r\n    const isActive = (user) => {\r\n      if(id === user._id) return 'active';\r\n      return '';\r\n    }\r\n\r\n    useEffect(() => {\r\n      if (message.firstLoad) return;\r\n      dispatch(getConversations({ auth }));\r\n    }, [dispatch, auth, message.firstLoad]);\r\n\r\n     useEffect(() => {\r\n       const observer = new IntersectionObserver(\r\n         (entries) => {\r\n           if (entries[0].isIntersecting) {\r\n             setPage((p) => p + 1);\r\n           }\r\n         },\r\n         {\r\n           threshold: 0.1,\r\n         }\r\n       );\r\n       observer.observe(pageEnd.current);\r\n     }, [setPage]);\r\n\r\n     useEffect(() => {\r\n       if (message.resultUsers >= (page - 1) * 9 && page > 1) {\r\n         dispatch(getConversations({ auth, page }));\r\n       }\r\n     }, [message.resultUsers, page, auth, dispatch]);\r\n\r\n    return (\r\n      <>\r\n        <form className=\"message_header\" onSubmit={handleSearch}>\r\n          <input\r\n            type=\"text\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            placeholder=\"search...\"\r\n          />\r\n\r\n          <button style={{ display: \"none\" }} type=\"submit\" id=\"search\">\r\n            Search\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"message_chat_list\">\r\n          {searchUsers.length !== 0 ? (\r\n            <>\r\n              {searchUsers.map((user) => (\r\n                <div\r\n                  key={user._id}\r\n                  className={`message_user ${isActive(user)}`}\r\n                  onClick={() => handleAddUser(user)}\r\n                >\r\n                  <UserCard user={user} />\r\n                </div>\r\n              ))}\r\n            </>\r\n          ) : (\r\n            <>\r\n              {message.users.map((user) => (\r\n                <div\r\n                  key={user._id}\r\n                  cclassName={`message_user ${isActive(user)}`}\r\n                  onClick={() => handleAddUser(user)}\r\n                >\r\n                  <UserCard user={user} msg={true}>\r\n                    <i className=\"fas fa-circle\" />\r\n                  </UserCard>\r\n                </div>\r\n              ))}\r\n            </>\r\n          )}\r\n\r\n          <button style={{opacity: 0}} ref={pageEnd}>Load more..</button>\r\n        </div>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default LeftSide\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Carousel = ({ images, id }) => {\r\n  const { theme } = useSelector(state => state);\r\n    const isActive = index => {\r\n        if(index === 0) return \"active\";\r\n    }\r\n  return (\r\n    <div id={`image${id}`} className=\"carousel slide\" data-bs-ride=\"carousel\">\r\n      <div className=\"carousel-indicators\">\r\n        {images.map((img, index) => (\r\n          <button\r\n            key={index}\r\n            type=\"button\"\r\n            data-bs-target={`#image${id}`}\r\n            data-bs-slide-to={index}\r\n            className={isActive(index)}\r\n            aria-current=\"true\"\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"carousel-inner\">\r\n        {images.map((img, index) => (\r\n          <div key={index} className={`carousel-item ${isActive(index)}`}>\r\n            {img?.url?.match(/video/i) ? (\r\n              <video\r\n                controls\r\n                style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n                src={img.url}\r\n                className=\"d-block w-100\"\r\n                alt={img.url}\r\n              />\r\n            ) : (\r\n              <img\r\n                style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n                src={img.url}\r\n                className=\"d-block w-100\"\r\n                alt={img.url}\r\n              />\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <button\r\n        style={{ width: \"5%\" }}\r\n        className=\"carousel-control-prev\"\r\n        type=\"button\"\r\n        data-bs-target={`#image${id}`}\r\n        data-bs-slide=\"prev\"\r\n      >\r\n        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n        <span className=\"visually-hidden\">Previous</span>\r\n      </button>\r\n      <button\r\n        style={{ width: \"5%\" }}\r\n        className=\"carousel-control-next\"\r\n        type=\"button\"\r\n        data-bs-target={`#image${id}`}\r\n        data-bs-slide=\"next\"\r\n      >\r\n        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n        <span className=\"visually-hidden\">Next</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Carousel;\r\n","import React, { useState } from 'react'\r\nimport Carousel from '../../Carousel';\r\n\r\nconst CardBody = ({ post, theme }) => {\r\n  const [readMore, setReadMore] = useState();\r\n  return (\r\n    <div className=\"card_body\">\r\n      <div\r\n        className=\"card_body-content\"\r\n        style={{\r\n          filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n          color: theme ? \"white\" : \"#111\",\r\n        }}\r\n      >\r\n        <span>\r\n          {post.content.length < 60\r\n            ? post.content\r\n            : readMore\r\n            ? post.content + \" \"\r\n            : post.content.slice(0, 60) + \"  ...\"}\r\n        </span>\r\n        {post.content.length > 60 && (\r\n          <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\r\n            {readMore ? \"Hide Content\" : \"Read More\"}\r\n          </span>\r\n        )}\r\n      </div>\r\n      {post.images.length > 0 && (\r\n        <Carousel images={post.images} id={post._id} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardBody\r\n","import React from 'react'\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst LikeButton = ({ isLike, handleLike, handleUnLike }) => {\r\n    const { theme } = useSelector(state => state);\r\n  return (\r\n    <div>\r\n      {isLike ? (\r\n        <i\r\n          className=\"fas fa-thumbs-up text-info\"\r\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n          onClick={handleUnLike}\r\n        />\r\n      ) : (\r\n        <i className=\"far fa-thumbs-up\" onClick={handleLike} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LikeButton\r\n","import React from 'react';\r\nimport {\r\n  EmailShareButton, EmailIcon,\r\n  FacebookShareButton, FacebookIcon,\r\n  LinkedinShareButton, LineIcon,\r\n  PinterestShareButton, PinterestIcon,\r\n  RedditShareButton, RedditIcon,\r\n  TelegramShareButton, TelegramIcon,\r\n  TwitterShareButton,TwitterIcon,\r\n  WhatsappShareButton, WhatsappIcon\r\n} from \"react-share\";\r\n\r\nconst ShareModal = ({ url, theme, setIsShare }) => {\r\n  return (\r\n    <div className=\"share_modal\">\r\n      <div className=\"share_modal-container\">\r\n        <div className=\"share_modal-header\">\r\n          <span>Share to...</span>\r\n          <span onClick={() => setIsShare(false)}>&times;</span>\r\n        </div>\r\n        <div\r\n          className=\" share_modal-body\"\r\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n        >\r\n          <FacebookShareButton url={url}>\r\n            <FacebookIcon round={true} size={32} />\r\n          </FacebookShareButton>\r\n\r\n          <TwitterShareButton url={url}>\r\n            <TwitterIcon round={true} size={32} />\r\n          </TwitterShareButton>\r\n\r\n          <EmailShareButton url={url}>\r\n            <EmailIcon round={true} size={32} />\r\n          </EmailShareButton>\r\n\r\n          <TelegramShareButton url={url}>\r\n            <TelegramIcon round={true} size={32} />\r\n          </TelegramShareButton>\r\n\r\n          <WhatsappShareButton url={url}>\r\n            <WhatsappIcon round={true} size={32} />\r\n          </WhatsappShareButton>\r\n\r\n          <PinterestShareButton url={url}>\r\n            <PinterestIcon round={true} size={32} />\r\n          </PinterestShareButton>\r\n\r\n          <RedditShareButton url={url}>\r\n            <RedditIcon round={true} size={32} />\r\n          </RedditShareButton>\r\n\r\n          <LinkedinShareButton url={url}>\r\n            <LineIcon round={true} size={32} />\r\n          </LinkedinShareButton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShareModal\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport LikeButton from '../../LikeButton';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { likePost, savePost, unLikePost, unSavePost } from \"../../../redux/actions/postAction\";\r\nimport ShareModal from '../../ShareModal';\r\n// import { BASE_URL } from '../../../utils/config';\r\n\r\n\r\nconst CardFooter = ({post}) => {\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [saved, setSaved] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n  const [saveLoad, setSaveLoad] = useState(false);\r\n  const [isShare, setIsShare] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const { auth, theme, socket } = useSelector((state) => state);\r\n\r\n  useEffect(() => {\r\n    if (post.likes.find((like) => like._id === auth.user._id)) {\r\n      setIsLike(true);\r\n    }else{\r\n      setIsLike(false);\r\n    }\r\n  }, [post.likes, auth.user._id]);\r\n\r\n  const handleLike = async () => {\r\n    if(loadLike) return;\r\n    setLoadLike(true);\r\n    await dispatch( likePost({post, auth, socket}) );\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleUnLike = async () => {\r\n    if(loadLike) return;\r\n    setLoadLike(true);\r\n    await dispatch( unLikePost({post, auth, socket}) );\r\n    setLoadLike(false);\r\n  };\r\n\r\n    const handleSavePost = async () => {\r\n      if (saveLoad) return;\r\n      setSaveLoad(true);\r\n      await dispatch(savePost({ post, auth }));\r\n      setSaveLoad(false);\r\n    };\r\n\r\n    const handleUnSavePost = async () => {\r\n      if (saveLoad) return;\r\n      setSaveLoad(true);\r\n      await dispatch(unSavePost({ post, auth }));\r\n      setSaveLoad(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (auth.user.saved.find(id => id === post._id)) {\r\n        setSaved(true);\r\n      } else {\r\n        setSaved(false);\r\n      }\r\n    }, [post._id, auth.user.saved]);\r\n\r\n    return (\r\n      <div className=\"card_footer\">\r\n        <div className=\"card_icon_menu\">\r\n          <div className=\"d-flex\">\r\n            <LikeButton\r\n              isLike={isLike}\r\n              handleLike={handleLike}\r\n              handleUnLike={handleUnLike}\r\n            />\r\n            <Link to={`/post/${post._id}`} className=\"text-dark\">\r\n              <i className=\"far fa-comments\" />\r\n            </Link>\r\n            <i\r\n              className=\"fa fa-share\"\r\n              alt=\"Send\"\r\n              onClick={() => setIsShare(!isShare)}\r\n            />\r\n          </div>\r\n          {saved ? (\r\n            <i\r\n              className=\"fas text-info fa-bookmark\"\r\n              onClick={handleUnSavePost}\r\n            />\r\n          ) : (\r\n            <i\r\n              className=\"far fa-bookmark\"\r\n              onClick={handleSavePost}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"d-flex justify-content-start\">\r\n          <h6 style={{ padding: \"0 25px\", cursor: \"pointer\" }}>\r\n            {post.likes.length} likes\r\n          </h6>\r\n          <h6 style={{ padding: \"0 25px\", cursor: \"pointer\" }}>\r\n            {post.comments.length} comments\r\n          </h6>\r\n        </div>\r\n\r\n        {isShare && (\r\n          <ShareModal\r\n            // url={`${BASE_URL}/post/${post._id}`}\r\n            url=\"http://google.com\"\r\n            theme={theme}\r\n            setIsShare={setIsShare}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default CardFooter\r\n","import React from \"react\";\r\nimport Avatar from \"../../Avatar\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { BASE_URL } from '../../../utils/config'\r\n\r\nimport { GLOBALTYPES } from \"../../../redux/actions/globalTypes\";\r\nimport { deletePost, reportPost } from \"../../../redux/actions/postAction\";\r\n\r\nconst CardHeader = ({ post }) => {\r\n  const { auth, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleEditPost = () => {\r\n    dispatch({ type: GLOBALTYPES.STATUS, payload: { ...post, onEdit: true } });\r\n  };\r\n\r\n  const handleDeletePost = () => {\r\n    if(window.confirm(\"Are you sure?\")){\r\n      dispatch(deletePost({ post, auth, socket }));\r\n      return history.push(\"/\");\r\n    }\r\n    \r\n  };\r\n\r\n\r\n  const handleReportPost = () => {\r\n    dispatch(reportPost({post, auth}));\r\n  };\r\n\r\n  const handleCopyLink = () => {\r\n    navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`)\r\n  };\r\n\r\n  return (\r\n    <div className=\"card_header\">\r\n      <div className=\"d-flex\">\r\n        <div className=\"outer-shadow big-avatar-cover me-2\">\r\n          <Avatar src={post.user.avatar} size=\"big-avatar\" />\r\n        </div>\r\n        <div className=\"card_name\">\r\n          <h6 className=\"m-0\">\r\n            <Link className=\"text-dark\" to={`/profile/${post.user._id}`}>\r\n              {post.user.username}\r\n            </Link>\r\n          </h6>\r\n          <small className=\"text-muted\">\r\n            {moment(post.createdAt).fromNow()}\r\n          </small>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"nav-item dropdown\">\r\n        <span\r\n          className=\"material-icons\"\r\n          id=\"moreLink\"\r\n          data-bs-toggle=\"dropdown\"\r\n        >\r\n          more_horiz\r\n        </span>\r\n\r\n        <div className=\"dropdown-menu\">\r\n          {auth.user._id === post.user._id && (\r\n            <>\r\n              <div className=\"dropdown-item\" onClick={handleEditPost}>\r\n                <span className=\"material-icons text-info\"> create</span>Edit\r\n                Post\r\n              </div>\r\n              <div className=\"dropdown-item\" onClick={handleDeletePost}>\r\n                <span className=\"material-icons text-red\"> delete</span>Delete\r\n                Post\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          <div className=\"dropdown-item\" onClick={handleCopyLink}>\r\n            <span className=\"material-icons text-primary\">content_copy</span>\r\n            Copy Link\r\n          </div>\r\n          <div className=\"dropdown-item\" onClick={handleReportPost}>\r\n            <span className=\"material-icons text-yellow\">report_problem</span>\r\n            Report this post\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardHeader;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { deleteComment } from '../../../redux/actions/commentAction';\r\n\r\nconst CommentMenu = ({ post, comment, setOnEdit }) => {\r\n  const { auth, socket } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleRemove = () => {\r\n    if(post.user._id === auth.user._id || comment.user._id === auth.user._id){\r\n      dispatch(deleteComment({ post, auth, comment, socket }));\r\n    }\r\n  };\r\n\r\n  const MenuItem = () => {\r\n    return (\r\n      <>\r\n        <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\r\n          <span className=\"material-icons text-primary\">create</span> Edit\r\n        </div>\r\n        <div className=\"dropdown-item\" onClick={handleRemove}>\r\n          <span className=\"material-icons text-red\">delete_outline</span> Delete\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"menu\">\r\n      {(post.user._id === auth.user._id ||\r\n        comment.user._id === auth.user._id) && (\r\n        <div className=\"nav-item dropdown\">\r\n          <span\r\n            className=\"material-icons\"\r\n            id=\"moreLink\"\r\n            data-bs-toggle=\"dropdown\"\r\n          >\r\n            more_vert\r\n          </span>\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\r\n            {post.user._id === auth.user._id ? (\r\n              comment.user._id === auth.user._id ? (\r\n                MenuItem()\r\n              ) : (\r\n                <div className=\"dropdown-item\" onClick={handleRemove}>\r\n                  <span className=\"material-icons\">delete_outline</span> Delete\r\n                </div>\r\n              )\r\n            ) : (\r\n              comment.user._id === auth.user._id && MenuItem()\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentMenu\r\n","import { GLOBALTYPES, EditData, DeleteData } from \"./globalTypes\";\r\nimport { POST_TYPES } from \"./postAction\";\r\nimport { createNotify, removeNotify } from \"./notifyAction\";\r\nimport { postDataAPI, patchDataAPI, deleteDataAPI } from \"../../utils/fetchData\";\r\n\r\n\r\n\r\n\r\nexport const createComment = ({post, newComment, auth, socket}) => async (dispatch) => {\r\n    const newPost = {...post, comments: [...post.comments, newComment]};\r\n    \r\n    dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost});\r\n\r\n    try {\r\n      const data = {\r\n        ...newComment,\r\n        postId: post._id,\r\n        postUserId: post.user._id,\r\n      };\r\n      const res = await postDataAPI(\"comment\", data, auth.token);\r\n\r\n      const newData = { ...res.data.newComment, user: auth.user };\r\n      const newPost = { ...post, comments: [...post.comments, newData] };\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n      // todo socket\r\n      socket.emit(\"createComment\", newPost);\r\n\r\n      // todo notification\r\n      const msg = {\r\n        id: res.data.newComment._id,\r\n        text: newComment.reply\r\n          ? \"mentioned you in a comment.\"\r\n          : \"commented on your post.\",\r\n        recipients: newComment.reply ? [newComment.tag._id] : [post.user._id],\r\n        url: `/post/${post._id}`,\r\n        content: newComment.reply\r\n          ? newComment.content\r\n          : post.content,\r\n        image: post.images[0].url,\r\n      };\r\n\r\n      dispatch(createNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}});\r\n    }\r\n};\r\n\r\n\r\nexport const updateComment = ({comment, post, content, auth}) => async (dispatch) => {\r\n  const newComments = EditData(post.comments, comment._id, {...comment, content});\r\n  const newPost = {...post, comments: newComments};\r\n  \r\n  dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost});\r\n\r\n  try {\r\n    await patchDataAPI(`comment/${comment._id}`, { content }, auth.token);\r\n\r\n  } catch (err) {\r\n    dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}});\r\n  }\r\n};\r\n\r\nexport const likeComment= ({comment, post, auth}) => async (dispatch) => {\r\n    const newComment = {...comment, likes: [...comment.likes, auth.user]};\r\n     const newComments = EditData(post.comments, comment._id, newComment);\r\n     const newPost = { ...post, comments: newComments };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    try {\r\n        await patchDataAPI(`comment/${comment._id}/like`, null, auth.token);\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}});\r\n\r\n    }\r\n};\r\n\r\nexport const unLikeComment = ({ comment, post, auth }) => async (dispatch) => {\r\n  const newComment = { ...comment, likes: DeleteData(comment.likes, auth.user._id) };\r\n  const newComments = EditData(post.comments, comment._id, newComment);\r\n  const newPost = { ...post, comments: newComments };\r\n\r\n  dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n  try {\r\n    await patchDataAPI(`comment/${comment._id}/unlike`, null, auth.token);\r\n\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const deleteComment = ({ post, comment, auth, socket }) => async (dispatch) => {\r\n  const deleteArr = [...post.comments.filter(cm => cm.reply === comment._id), comment];\r\n\r\n  const newPost = {\r\n    ...post,\r\n    comments: post.comments.filter(cm => !deleteArr.find(da => cm._id === da._id))\r\n  }\r\n\r\n  dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost});\r\n\r\n  socket.emit('deleteComment', newPost);\r\n\r\n  try {\r\n    deleteArr.forEach(item => {\r\n      deleteDataAPI(`comment/${item._id}`, auth.token);\r\n\r\n      // todo notification\r\n      const msg = {\r\n        id: item._id,\r\n        text: item.reply\r\n          ? \"mentioned you in a comment.\"\r\n          : \"commented on your post.\",\r\n        recipients: item.reply ? [item.tag._id] : [post.user._id],\r\n        url: `/post/${post._id}`,\r\n      };\r\n\r\n      dispatch(removeNotify({ msg, auth, socket }));\r\n    })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createComment } from '../../redux/actions/commentAction';\r\nimport Icons from '../Icons';\r\n\r\nconst InputComment = ({ children, post, onReply, setOnReply }) => {\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  const { auth, socket, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!content.trim()){\r\n      if(setOnReply){return setOnReply(false)}\r\n      return;\r\n    }\r\n\r\n    setContent(\"\");\r\n\r\n    const newComment = {\r\n      content,\r\n      likes: [],\r\n      user: auth.user,\r\n      createdAt: new Date().toISOString(),\r\n      reply: onReply && onReply.commentId,\r\n      tag: onReply && onReply.user\r\n    };\r\n    dispatch(createComment({ post, newComment, auth, socket }));\r\n    if (setOnReply) {\r\n      return setOnReply(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"card-footer comment_input\" onSubmit={handleSubmit}>\r\n      {children}\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Add comments...\"\r\n        value={content}\r\n        onChange={(e) => setContent(e.target.value)}\r\n        style={{\r\n          filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n          color: theme ? \"white\" : \"#111\",\r\n          background: theme ? \"rgb(0,0,0,0.3)\" : \"\",\r\n        }}\r\n      />\r\n      <Icons setContent={setContent} content={content} theme={theme} />\r\n      <button type=\"submit\" className=\"postBtn\">\r\n        Post\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default InputComment;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Avatar from '../../Avatar';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector , useDispatch } from \"react-redux\";\r\nimport moment from 'moment';\r\nimport LikeButton from \"../../LikeButton\";\r\nimport CommentMenu from './CommentMenu';\r\nimport { likeComment, unLikeComment, updateComment } from '../../../redux/actions/commentAction';\r\nimport InputComment from \"../InputComment\";\r\n\r\nconst CommentCard = ({ children, comment, post, commentId }) => {\r\n  const { auth, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [content, setContent] = useState(\"\");\r\n  const [readMore, setReadMore] = useState(false);\r\n\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n  const [onEdit, setOnEdit] = useState(false);\r\n  const [onReply, setOnReply] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setContent(comment.content);\r\n    setIsLike(false);\r\n    setOnReply(false);\r\n    if (comment.likes.find((like) => like._id === auth.user._id)) {\r\n      setIsLike(true);\r\n    }\r\n  }, [comment, auth.user._id]);\r\n\r\n  const handleUpdate = () => {\r\n    if (comment.content !== content) {\r\n      dispatch(updateComment({ comment, post, content, auth }));\r\n      setOnEdit(false);\r\n    } else {\r\n      setOnEdit(false);\r\n    }\r\n  };\r\n\r\n  const handleLike = async () => {\r\n    if (loadLike) return;\r\n\r\n    setIsLike(true);\r\n\r\n    setLoadLike(true);\r\n    await dispatch(likeComment({ comment, post, auth }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleUnLike = async () => {\r\n    if (loadLike) return;\r\n\r\n    setIsLike(false);\r\n    setLoadLike(true);\r\n    await dispatch(unLikeComment({ comment, post, auth }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleReply = () => {\r\n    if (onReply) {\r\n      return setOnReply(false);\r\n    }\r\n    setOnReply({...comment, commentId});\r\n  };\r\n\r\n  const styleCard = {\r\n    opacity: comment._id ? 1 : 0.5,\r\n    pointerEvents: comment._id ? \"inherit\" : \"none\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"comment_card mt-2\" style={styleCard}>\r\n      <Link to={`/profile/${comment.user._id}`} className=\"d-flex text-dark\">\r\n        <Avatar src={comment.user.avatar} size=\"small-avatar\" />\r\n        <h6 className=\"mx-1\">{comment.user.username}</h6>\r\n      </Link>\r\n\r\n      <div className=\"comment_content\">\r\n        <div\r\n          className=\"flex-fill\"\r\n          style={{\r\n            filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n            color: theme ? \"white\" : \"#111\",\r\n          }}\r\n        >\r\n          {onEdit ? (\r\n            <textarea\r\n              rows=\"5\"\r\n              value={content}\r\n              onChange={(e) => setContent(e.target.value)}\r\n            />\r\n          ) : (\r\n            <div>\r\n              {comment.tag && comment.tag._id !== comment.user._id && (\r\n                <Link\r\n                  to={`/profile/${comment.tag._id}`}\r\n                  style={{ textDecoration: \"none\" }}\r\n                  className=\"me-1\"\r\n                >\r\n                  @{comment.tag.username}\r\n                </Link>\r\n              )}\r\n              <span>\r\n                {content.length < 100\r\n                  ? content\r\n                  : readMore\r\n                  ? content + \" \"\r\n                  : content.slice(0, 100) + \"...\"}\r\n              </span>\r\n              {content.length > 100 && (\r\n                <span\r\n                  className=\"readMore\"\r\n                  onClick={() => setReadMore(!readMore)}\r\n                >\r\n                  {readMore ? \"Hide \" : \"Read more\"}\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ cursor: \"pointer\" }}>\r\n            <small className=\"text-muted\" style={{ marginRight: \"9px\" }}>\r\n              {moment(comment.createdAt).fromNow()}\r\n            </small>\r\n\r\n            <small\r\n              style={{ fontWeight: \"bold\", marginRight: \"9px\" }}\r\n              className=\"mr3\"\r\n            >\r\n              {comment.likes.length} likes\r\n            </small>\r\n            {onEdit ? (\r\n              <>\r\n                <small\r\n                  onClick={handleUpdate}\r\n                  style={{ fontWeight: \"bold\", marginRight: \"9px\" }}\r\n                  className=\"mr3\"\r\n                >\r\n                  update\r\n                </small>\r\n                <small\r\n                  onClick={() => setOnEdit(false)}\r\n                  style={{ fontWeight: \"bold\", marginRight: \"9px\" }}\r\n                  className=\"mr3\"\r\n                >\r\n                  cancel\r\n                </small>\r\n              </>\r\n            ) : (\r\n              <small\r\n                style={{ fontWeight: \"bold\", marginRight: \"9px\" }}\r\n                className=\"mr3\"\r\n                onClick={handleReply}\r\n              >\r\n                {onReply ? \"cancel\" : \"reply\"}\r\n              </small>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"d-flex align-items-center \"\r\n          style={{ cursor: \"pointer\" }}\r\n        >\r\n          <CommentMenu post={post} comment={comment} setOnEdit={setOnEdit} />\r\n\r\n          <LikeButton\r\n            isLike={isLike}\r\n            handleLike={handleLike}\r\n            handleUnLike={handleUnLike}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {onReply && (\r\n        <InputComment post={post} onReply={onReply} setOnReply={setOnReply}>\r\n          <Link\r\n            style={{ textDecoration: \"none\" }}\r\n            className=\"mr-1\"\r\n            to={`/profile/${onReply.user._id}`}\r\n          >\r\n            @{onReply.user.username}\r\n          </Link>\r\n        </InputComment>\r\n      )}\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentCard\r\n","import React, { useEffect, useState } from 'react'\r\nimport CommentCard from './CommentCard'\r\n\r\nconst CommentDisplay = ({ comment, post, replyCm }) => {\r\n  const [showRep, setShowRep] = useState([]);\r\n  const [next, setNext] = useState(1);\r\n\r\n  useEffect(() => {\r\n    setShowRep(replyCm.slice(replyCm.length - next));\r\n  }, [replyCm, next]);\r\n\r\n  return (\r\n    <div className=\"comment_display\">\r\n      <CommentCard post={post} comment={comment} commentId={comment._id}>\r\n        <div className=\"ps-4\">\r\n          {showRep.map(\r\n            (item, index) =>\r\n              item.reply && (\r\n                <CommentCard\r\n                  comment={item}\r\n                  key={index}\r\n                  post={post}\r\n                  commentId={comment._id}\r\n                />\r\n              )\r\n          )}\r\n\r\n          {replyCm.length - next > 0 ? (\r\n            <div\r\n              onClick={() => setNext(next + 10)}\r\n              style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n            >\r\n              Load more...\r\n            </div>\r\n          ) : (\r\n            replyCm.length > 1 && (\r\n              <div\r\n                onClick={() => setNext(1)}\r\n                style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n              >\r\n                Hide...\r\n              </div>\r\n            )\r\n          )}\r\n        </div>\r\n      </CommentCard>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentDisplay\r\n","import React, { useState, useEffect} from 'react'\r\nimport CommentDisplay from './comments/CommentDisplay'\r\n\r\nconst Comments = ({post}) => {\r\n  const [comments, setComments] = useState([]);\r\n  const [showComments, setShowComments] = useState([]);\r\n  const [next, setNext] = useState(2);\r\n  const [replyComments, setReplyComments] = useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n    const newCm = post.comments.filter((cm) => !cm.reply);\r\n    setComments(newCm);\r\n    setShowComments(newCm.slice(newCm.length - next));\r\n  }, [post.comments, next]);\r\n\r\n  useEffect(() => {\r\n    const newReply = post.comments.filter((cm) => cm.reply);\r\n    setReplyComments(newReply);\r\n  }, [post.comments]);\r\n\r\n    return (\r\n      <div className=\"comments\">\r\n        {showComments.map((comment, index) => (\r\n          <CommentDisplay\r\n            key={index}\r\n            comment={comment}\r\n            post={post}\r\n            replyCm={replyComments.filter((item) => item.reply === comment._id)}\r\n          />\r\n        ))}\r\n        {comments.length - next > 0 ? (\r\n          <div\r\n            onClick={() => setNext(next + 10)}\r\n            className=\"p-2 border-top\"\r\n            style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n          >\r\n            Load more...\r\n          </div>\r\n        ) : (\r\n          comments.length > 2 && (\r\n            <div\r\n              onClick={() => setNext(2)}\r\n              className=\"p-2 border-top\"\r\n              style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n            >\r\n              Hide...\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Comments\r\n","import React from 'react';\r\nimport CardBody from \"./home/post_card/CardBody\";\r\nimport CardFooter from \"./home/post_card/CardFooter\";\r\nimport CardHeader from \"./home/post_card/CardHeader\";\r\nimport Comments from './home/Comments';\r\nimport InputComment from \"./home/InputComment\";\r\n\r\n\r\nconst PostCard = ({ post, theme }) => {\r\n  return (\r\n    <div className=\"card my-3 outer-shadow\">\r\n      <CardHeader post={post} />\r\n      <CardBody post={post} theme={theme} />\r\n      <CardFooter post={post} />\r\n\r\n      <Comments post={post} />\r\n      <InputComment post={post} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCard\r\n","import { GLOBALTYPES } from \"./globalTypes\";\r\nimport { getDataAPI, deleteDataAPI } from \"../../utils/fetchData\";\r\nimport { createNotify } from \"./notifyAction\";\r\n\r\nexport const ADMIN_TYPES = {\r\n  GET_TOTAL_USERS: \"GET_TOTAL_USERS\",\r\n  GET_TOTAL_POSTS: \"GET_TOTAL_POSTS\",\r\n  GET_TOTAL_COMMENTS: \"GET_TOTAL_COMMENTS\",\r\n  GET_TOTAL_LIKES: \"GET_TOTAL_LIKES\",\r\n  GET_TOTAL_SPAM_POSTS: \"GET_TOTAL_SPAM_POSTS\",\r\n  GET_TOTAL_ACTIVE_USERS: \"GET_TOTAL_ACTIVE_USERS\",\r\n  GET_SPAM_POSTS: \"GET_SPAM_POSTS\",\r\n  LOADING_ADMIN: \"LOADING_ADMIN\",\r\n  DELETE_POST: \"DELETE_POST\",\r\n};\r\n\r\n\r\n\r\nexport const getTotalUsers = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_users\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_USERS, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const getTotalPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_posts\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_POSTS, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const getTotalComments = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_comments\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_COMMENTS, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const getTotalLikes = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_likes\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_LIKES, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const getTotalSpamPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_spam_posts\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_SPAM_POSTS, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const getSpamPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_spam_posts\", token);\r\n    \r\n    dispatch({ type: ADMIN_TYPES.GET_SPAM_POSTS, payload: res.data.spamPosts });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteSpamPost = ({ post, auth, socket }) => async (dispatch) => {\r\n  dispatch({ type: ADMIN_TYPES.DELETE_POST, payload: post });\r\n\r\n  try {\r\n    const res = await deleteDataAPI(\r\n      `delete_spam_posts/${post._id}`,\r\n      auth.token\r\n    );\r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: \"Your Post is deleted due to too many reports.\",\r\n      recipients: [post.user._id],\r\n      url: `/profile/${post.user._id}`,\r\n    };\r\n\r\n    dispatch(createNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const getTotalActiveUsers = ({auth, socket}) => async (dispatch) => {\r\n  try {\r\n    socket.emit('getActiveUsers', auth.user._id);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};","import React, { useState, useEffect} from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getDiscoverPosts, DISCOVER_TYPES } from \"../redux/actions/discoverAction\";\r\nimport LoadIcon from '../images/loading.gif';\r\nimport PostThumb from \"../components/PostThumb\";\r\nimport LoadMoreBtn from '../components/LoadMoreBtn';\r\nimport { getDataAPI } from '../utils/fetchData';\r\n\r\nconst Discover = () => {\r\n    const { auth, discover } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n\r\n    const [load, setLoad] = useState(false);\r\n\r\n    useEffect(() => {\r\n      if (!discover.firstLoad) {\r\n        dispatch(getDiscoverPosts(auth.token));\r\n      }\r\n    }, [dispatch, auth.token, discover.firstLoad]);\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true);\r\n        const res = await getDataAPI(`post_discover?num=${discover.page * 8}`, auth.token);\r\n        dispatch({ type: DISCOVER_TYPES.UPDATE_POSTS, payload: res.data });\r\n        setLoad(false);\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        {discover.loading ? (\r\n          <img\r\n            src={LoadIcon}\r\n            alt=\"Loading...\"\r\n            className=\"d-block mx-auto my-4\"\r\n          />\r\n        ) : (\r\n            <PostThumb posts={discover.posts} result={discover.result} />\r\n          \r\n        )}\r\n\r\n        {load && (\r\n          <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\r\n        )}\r\n\r\n        {!discover.loading && (\r\n          <LoadMoreBtn\r\n            result={discover.result}\r\n            page={discover.page}\r\n            load={load}\r\n            handleLoadMore={handleLoadMore}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Discover;\r\n","export default __webpack_public_path__ + \"static/media/loading.10625dac.gif\";","export const GLOBALTYPES = {\r\n  AUTH: \"AUTH\",\r\n  ALERT: \"ALERT\",\r\n  THEME: \"THEME\",\r\n  STATUS: \"STATUS\",\r\n  MODAL: \"MODAL\",\r\n  USER_TYPE: \"USER_TYPE\",\r\n  SOCKET: \"SOCKET\",\r\n};\r\n\r\nexport const EditData = (data, id, post) => {\r\n  const newData = data.map((item) => (item._id === id ? post : item));\r\n  return newData;\r\n};\r\n\r\nexport const DeleteData = (data, id) => {\r\n  const newData = data.filter((item) => item._id !== id);\r\n  return newData;\r\n};\r\n\r\n","import React from 'react'\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Avatar = ({src, size}) => {\r\n     const { theme } = useSelector((state) => state);\r\n    return (\r\n        <img\r\n          src={src}\r\n          alt=\"Avatar\"\r\n          className={size}\r\n          style={{ filter: `${theme ? \"invert(1)\" : \"invert(0)\"}` }}\r\n        />\r\n    );\r\n}\r\n\r\nexport default Avatar\r\n","import { GLOBALTYPES, DeleteData } from \"./globalTypes\";\r\nimport { getDataAPI, patchDataAPI } from \"../../utils/fetchData\";\r\nimport { imageUpload } from \"../../utils/imageUpload\";\r\nimport { createNotify, removeNotify } from \"./notifyAction\";\r\n\r\nexport const PROFILE_TYPES = {\r\n  LOADING: \"LOADING_PROFILE\",\r\n  GET_USER: \"GET_PROFILE_USER\",\r\n  FOLLOW: \"FOLLOW\",\r\n  UNFOLLOW: \"UNFOLLOW\",\r\n  GET_ID: \"GET_PROFILE_ID\",\r\n  GET_POSTS: \"GET_PROFILE_POSTS\",\r\n  UPDATE_POST: \"UPDATE_PROFILE_POSTS\",\r\n\r\n};\r\n\r\n\r\nexport const getProfileUsers = ({ id, auth}) => async (dispatch) => {\r\n\r\n  dispatch({type:PROFILE_TYPES.GET_ID, payload: id})\r\n\r\n    try {\r\n      dispatch({type: PROFILE_TYPES.LOADING, payload:true});\r\n      const res =  getDataAPI(`/user/${id}`, auth.token);\r\n      \r\n      const res1 =  getDataAPI(`/user_posts/${id}`, auth.token);\r\n\r\n      const users = await res;\r\n      const posts = await res1;\r\n\r\n      dispatch({ type: PROFILE_TYPES.GET_USER, payload: users.data });\r\n      dispatch({ type: PROFILE_TYPES.GET_POSTS, payload: {...posts.data, _id: id, page: 2} });\r\n\r\n      dispatch({ type: PROFILE_TYPES.LOADING, payload: false });\r\n      \r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} });\r\n    }\r\n  }\r\n\r\n\r\n\r\nexport const updateProfileUser = ({userData, avatar, auth}) => async (dispatch) => {\r\n  if(!userData.fullname){\r\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Please enter full name.\"}})\r\n  }\r\n\r\n  if (userData.fullname.length > 25) {\r\n    return dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"Full name is too long.\" },\r\n    });\r\n  }\r\n\r\n  if (userData.story.length > 200) {\r\n    return dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"Story is too long.\" },\r\n    });\r\n  }\r\n\r\n  try {\r\n    let media;\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { loading: true }\r\n    });\r\n\r\n    if(avatar){\r\n      media = await imageUpload([avatar]);\r\n    }\r\n\r\n    const res = await patchDataAPI(\"user\", { ...userData, avatar: avatar ? media[0].url : auth.user.avatar }, auth.token);\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        ...auth,\r\n        user: {\r\n          ...auth.user,\r\n          ...userData,\r\n          avatar: avatar ? media[0].url : auth.user.avatar,\r\n        },\r\n      },\r\n    });\r\n   \r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { success: res.data.msg },\r\n    });\r\n\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n\r\n};\r\n\r\nexport const follow = ({ users, user, auth, socket }) => async (dispatch) => {\r\n  let newUser;\r\n  if(users.every(item => item._id !== user._id )){\r\n    newUser = { ...user, followers: [...user.followers, auth.user] };\r\n  }else{\r\n    users.forEach(item => {\r\n      if(item._id === user._id){\r\n        newUser = { ...item, followers: [...item.followers, auth.user] };\r\n      }\r\n    })\r\n  }\r\n   \r\n  \r\n  dispatch({ type: PROFILE_TYPES.FOLLOW, payload: newUser });\r\n\r\n  dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user:{...auth.user, following: [...auth.user.following, newUser] } } });\r\n\r\n  \r\n\r\n  try {\r\n    const res = await patchDataAPI(\r\n      `/user/${user._id}/follow`,\r\n      null,\r\n      auth.token\r\n    );\r\n    // todo socket\r\n    socket.emit(\"follow\", res.data.newUser);\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: 'started following you',\r\n      recipients: [newUser._id],\r\n      url: `/profile/${auth.user._id}`,\r\n    };\r\n\r\n    dispatch(createNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const unfollow = ({ users, user, auth, socket }) => async (dispatch) => {\r\n\r\n    let newUser;\r\n    if (users.every((item) => item._id !== user._id)) {\r\n      newUser = {\r\n        ...user,\r\n        followers: DeleteData(user.followers, auth.user._id),\r\n      };\r\n    } else {\r\n      users.forEach((item) => {\r\n        if (item._id === user._id) {\r\n          newUser = {\r\n            ...item,\r\n            followers: DeleteData(item.followers, auth.user._id),\r\n          };\r\n        }\r\n      });\r\n    }\r\n  \r\n  dispatch({ type: PROFILE_TYPES.UNFOLLOW, payload: newUser });\r\n\r\n  dispatch({\r\n    type: GLOBALTYPES.AUTH,\r\n    payload: {\r\n      ...auth,\r\n      user: {\r\n        ...auth.user,\r\n        following: DeleteData(auth.user.following, newUser._id)\r\n      },\r\n    },\r\n  });\r\n\r\n  \r\n\r\n  try {\r\n    const res = await patchDataAPI(\r\n      `/user/${user._id}/unfollow`,\r\n      null,\r\n      auth.token\r\n    );\r\n\r\n    // todo socket\r\n    socket.emit(\"unFollow\", res.data.newUser);\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: \"started following you\",\r\n      recipients: [newUser._id],\r\n      url: `/profile/${auth.user._id}`,\r\n    };\r\n\r\n    dispatch(removeNotify({ msg, auth, socket }));\r\n    \r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getPost } from '../../redux/actions/postAction';\r\nimport LoadIcon from '../../images/loading.gif';\r\nimport PostCard from \"../../components/PostCard\";\r\n\r\nconst Post = () => {\r\n    const { id } = useParams();\r\n    const [post, setPost] = useState([]);\r\n    const { auth, detailPost } = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n      dispatch(getPost({ detailPost, id, auth }));\r\n      if (detailPost.length > 0) {\r\n        const newArr = detailPost.filter((post) => post._id === id);\r\n        setPost(newArr);\r\n      }\r\n    }, [detailPost, dispatch, id, auth]);\r\n\r\n    return (\r\n        <div className=\"posts\">\r\n            {\r\n                post.length === 0 &&\r\n                <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto my-4\" />\r\n            }\r\n\r\n            {\r\n                post.map(item => (\r\n                    <PostCard post={item} key={item._id} />\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport { updateProfileUser } from \"../../redux/actions/profileAction\";\r\n\r\nimport { checkImage } from \"../../utils/imageUpload\";\r\n\r\nconst EditProfile = ({ setOnEdit }) => {\r\n  const initialState = {\r\n    fullname: \"\",\r\n    mobile: \"\",\r\n    address: \"\",\r\n    website: \"\",\r\n    story: \"\",\r\n    gender: \"\",\r\n  };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { fullname, mobile, address, website, story, gender } = userData;\r\n  const [avatar, SetAvatar] = useState(\"\");\r\n  const { auth, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setUserData(auth.user);\r\n  }, [auth.user]);\r\n\r\n  const changeAvatar = (e) => {\r\n    const file = e.target.files[0];\r\n    const err = checkImage(file);\r\n    if (err) {\r\n      return dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    }\r\n    SetAvatar(file);\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n      e.preventDefault();\r\n      dispatch(updateProfileUser( {userData, avatar, auth} ) );\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit_profile\">\r\n      <button\r\n        className=\"btn btn-danger btn_close\"\r\n        onClick={() => setOnEdit(false)}\r\n      >\r\n        Close\r\n      </button>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"info_avatar\">\r\n          <img\r\n            alt=\"profile\"\r\n            src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar}\r\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n          />\r\n          <span>\r\n            <i className=\"fas fa-camera\" />\r\n            <p>Change</p>\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              id=\"file_up\"\r\n              accept=\"image/*\"\r\n              onChange={changeAvatar}\r\n            />\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"fullname\">Full Name</label>\r\n          <div className=\"position-relative\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"fullname\"\r\n              name=\"fullname\"\r\n              value={fullname}\r\n              onChange={handleInput}\r\n            />\r\n            <small\r\n              className=\"text-danger position-absolute\"\r\n              style={{\r\n                top: \"50%\",\r\n                right: \"5px\",\r\n                transform: \"translateY(-50%)\",\r\n              }}\r\n            >\r\n              {fullname.length}/25\r\n            </small>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"mobile\">Mobile</label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"mobile\"\r\n            name=\"mobile\"\r\n            value={mobile}\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"address\">Address</label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"address\"\r\n            name=\"address\"\r\n            value={address}\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"website\">Website</label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"website\"\r\n            name=\"website\"\r\n            value={website}\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"story\">Story</label>\r\n\r\n          <textarea\r\n            cols=\"30\"\r\n            rows=\"4\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"story\"\r\n            name=\"story\"\r\n            value={story}\r\n            onChange={handleInput}\r\n          />\r\n\r\n          <small className=\"text-danger d-block text-right\">\r\n            {story.length}/200\r\n          </small>\r\n        </div>\r\n\r\n        <label htmlFor=\"gender\">Gender</label>\r\n        <div className=\"input-group-prepend px-0 mb-4\">\r\n          <select\r\n            className=\"custom-select text-capitalize\"\r\n            name=\"gender\"\r\n            id=\"gender\"\r\n            onChange={handleInput}\r\n            value={gender}\r\n          >\r\n            <option value=\"male\">Male</option>\r\n            <option value=\"female\">Female</option>\r\n          </select>\r\n        </div>\r\n        <button className=\"btn btn-info w-100\" type=\"submit\">\r\n          Save\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n","import React from \"react\";\r\nimport UserCard from \"../UserCard\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Following = ({ users, setShowFollowing }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"follow\">\r\n      <div className=\"follow_box\">\r\n        <h5 className=\"text-center follow_box-heading\">Following</h5>\r\n        <hr />\r\n        {users.map((user) => (\r\n          <UserCard\r\n            key={user._id}\r\n            setShowFollowing={setShowFollowing}\r\n            user={user}\r\n          >\r\n            {auth.user._id !== user._id && <FollowBtn user={user} />}\r\n          </UserCard>\r\n        ))}\r\n\r\n        <div className=\"close\" onClick={() => setShowFollowing(false)}>\r\n          &times;\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Following;\r\n","import React from \"react\";\r\nimport UserCard from \"../UserCard\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Followers = ({ users, setShowFollowers }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"follow\">\r\n      <div className=\"follow_box\">\r\n        <h5 className=\"text-center follow_box-heading\">Followers</h5>\r\n        <hr />\r\n        {users.map((user) => (\r\n          <UserCard\r\n            key={user._id}\r\n            setShowFollowers={setShowFollowers}\r\n            user={user}\r\n          >\r\n            {auth.user._id !== user._id && <FollowBtn user={user} />}\r\n          </UserCard>\r\n        ))}\r\n\r\n        <div className=\"close\" onClick={() => setShowFollowers(false)}>\r\n          &times;\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Followers;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport { changePassword } from \"../../redux/actions/authAction\";\r\n\r\nimport { checkImage } from \"../../utils/imageUpload\";\r\n\r\nconst ChangePassword = ({ setChangePassword }) => {\r\n  const [oldPassword, setOldPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [cnfNewPassword, setCnfNewPassword] = useState(\"\");\r\n  const { auth, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n\r\n\r\n\r\n  const handleSubmit = e => {\r\n      e.preventDefault();\r\n      dispatch(changePassword( {oldPassword, newPassword, cnfNewPassword, auth} ) );\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit_profile\">\r\n      <button\r\n        className=\"btn btn-danger btn_close\"\r\n        onClick={() => setChangePassword(false)}\r\n      >\r\n        Close\r\n      </button>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        \r\n        \r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"oldPassword\">old password</label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"oldPassword\"\r\n            name=\"oldPassword\"\r\n            value={oldPassword}\r\n            onChange={(e) => setOldPassword(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"newPassword\">new password</label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"newPassword\"\r\n            name=\"newPassword\"\r\n            value={newPassword}\r\n            onChange={(e) => setNewPassword(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"cnfNewPassword\">confirm new password</label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"cnfNewPassword\"\r\n            name=\"cnfNewPassword\"\r\n            value={cnfNewPassword}\r\n            onChange={(e) => setCnfNewPassword(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        \r\n        <button className=\"btn btn-info w-100\" type=\"submit\">\r\n          update\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n","import React, { useState, useEffect} from 'react';\r\nimport Avatar from '../Avatar';\r\nimport EditProfile from './EditProfile';\r\nimport FollowBtn from '../FollowBtn';\r\nimport Following from './Following';\r\nimport Followers from './Followers';\r\nimport ChangePassword from './ChangePassword';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\n\r\nconst Info = ({id, auth, profile, dispatch}) => {\r\n    const [userData, setUserData] = useState([]);\r\n    const [onEdit, setOnEdit] = useState(false);\r\n    const [changePassword, setChangePassword] = useState(false);\r\n\r\n    const [showFollowers, setShowFollowers] = useState(false);\r\n    const [showFollowing, setShowFollowing] = useState(false);\r\n\r\n    useEffect(() => {\r\n      if (id === auth.user._id) {\r\n          setUserData([auth.user]);\r\n      }else{\r\n        const newData = profile.users.filter(user => user._id === id);\r\n        setUserData(newData);\r\n      }\r\n    }, [id, auth, dispatch, profile.users]);\r\n\r\n    useEffect(() => {\r\n      if (showFollowers || showFollowing || onEdit) {\r\n        dispatch({ type: GLOBALTYPES.MODAL, payload: true });\r\n      } else {\r\n        dispatch({ type: GLOBALTYPES.MODAL, payload: false });\r\n      }\r\n    }, [showFollowers, showFollowing, onEdit, dispatch]);\r\n\r\n    return (\r\n      <div className=\"info\">\r\n        {userData.map((user) => (\r\n          <div key={user._id} className=\"info_container\">\r\n            <div\r\n              className=\"outer-shadow d-flex justify-content-center align-items-center\"\r\n              style={{ borderRadius: \"50%\", height: \"170px\", width: \"170px\" }}\r\n            >\r\n              <Avatar src={user.avatar} size=\"supper-avatar\" />\r\n            </div>\r\n\r\n            <div className=\"info_content\">\r\n              <div className=\"info_content_title\">\r\n                <h2>{user.username}</h2>\r\n                {user._id === auth.user._id ? (\r\n                  <button\r\n                    className=\"btn-1 outer-shadow hover-in-shadow\"\r\n                    onClick={() => setOnEdit(true)}\r\n                  >\r\n                    Edit Profile\r\n                  </button>\r\n                ) : (\r\n                  <FollowBtn user={user} />\r\n                )}\r\n                {user._id === auth.user._id ? (\r\n                  <button\r\n                    className=\"btn-1 outer-shadow hover-in-shadow\"\r\n                    onClick={() => setChangePassword(true)}\r\n                  >\r\n                    change password\r\n                  </button>\r\n                ) : (\r\n                  <FollowBtn user={user} />\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"follow_btn\">\r\n                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\r\n                  {user.followers.length} Followers\r\n                </span>\r\n                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\r\n                  {user.following.length} Following\r\n                </span>\r\n              </div>\r\n\r\n              <h6>\r\n                {user.fullname}{\" \"}\r\n                <span className=\"color-violet\">{user.mobile}</span>\r\n              </h6>\r\n              <p className=\"m-0\">{user.address}</p>\r\n              <h6>{user.email}</h6>\r\n              <a\r\n                style={{ textDecoration: \"none\" }}\r\n                href={user.website}\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n              >\r\n                {user.website}\r\n              </a>\r\n              <p>{user.story}</p>\r\n            </div>\r\n\r\n            {onEdit && <EditProfile setOnEdit={setOnEdit} />}\r\n            {changePassword && <ChangePassword setChangePassword={setChangePassword} />}\r\n\r\n            {showFollowers && (\r\n              <Followers\r\n                users={user.followers}\r\n                setShowFollowers={setShowFollowers}\r\n              />\r\n            )}\r\n            {showFollowing && (\r\n              <Following\r\n                users={user.following}\r\n                setShowFollowing={setShowFollowing}\r\n              />\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Info\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PostThumb from \"../PostThumb\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport LoadMoreBtn from \"../LoadMoreBtn\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { PROFILE_TYPES } from \"../../redux/actions/profileAction\";\r\n\r\nconst Posts = ({ auth, profile, dispatch, id }) => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [result, setResult] = useState(9);\r\n  const [page, setPage] = useState(0);\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    profile.posts.forEach((data) => {\r\n      if (data._id === id) {\r\n        setPosts(data.posts);\r\n        setResult(data.result);\r\n        setPage(data.page);\r\n      }\r\n    });\r\n  }, [profile.posts, id]);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(\r\n      `user_posts/${id}?limit=${page * 9}`,\r\n      auth.token\r\n    );\r\n    const newData = { ...res.data, page: page + 1, _id: id };\r\n    dispatch({ type: PROFILE_TYPES.UPDATE_POST, payload: newData });\r\n    setLoad(false);\r\n  };\r\n  return (\r\n    <div>\r\n      <PostThumb posts={posts} result={result} />\r\n\r\n      {load && (\r\n        <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\r\n      )}\r\n\r\n      <LoadMoreBtn\r\n        result={result}\r\n        page={page}\r\n        load={load}\r\n        handleLoadMore={handleLoadMore}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PostThumb from \"../PostThumb\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport LoadMoreBtn from \"../LoadMoreBtn\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\n\r\nconst Saved = ({ auth, dispatch }) => {\r\n  const [savePosts, setSavePosts] = useState([]);\r\n  const [result, setResult] = useState(9);\r\n  const [page, setPage] = useState(2);\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoad(true);\r\n    getDataAPI(`getSavePosts`, auth.token)\r\n    .then(res => { \r\n        setSavePosts(res.data.savePosts) \r\n        setResult(res.data.result)\r\n        setLoad(false)\r\n    })  \r\n    .catch(err => {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    })\r\n\r\n    return () => setSavePosts([]);\r\n  }, [dispatch, auth.token]);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token);\r\n    setSavePosts(res.data.savePosts);\r\n    setResult(res.data.result);\r\n    setPage(page + 1);\r\n    setLoad(false);\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <PostThumb posts={savePosts} result={result} />\r\n\r\n      {load && (\r\n        <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\r\n      )}\r\n\r\n      <LoadMoreBtn\r\n        result={result}\r\n        page={page}\r\n        load={load}\r\n        handleLoadMore={handleLoadMore}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Saved;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Info from '../../components/profile/Info';\r\nimport Posts from '../../components/profile/Posts';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport LoadIcon  from \"../../images/loading.gif\";\r\nimport { getProfileUsers } from \"../../redux/actions/profileAction\";\r\nimport Saved from '../../components/profile/Saved';\r\n\r\nconst Profile = () => {\r\n  const { profile, auth } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const { id } = useParams();\r\n  const [saveTab, setSaveTab] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if(profile.ids.every(item => item !== id )){\r\n      dispatch(getProfileUsers({ id, auth }));\r\n\r\n    }\r\n  }, [id, auth, dispatch, profile.ids]);\r\n\r\n    return (\r\n      <div className=\"profile\">\r\n        <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n\r\n        {auth.user._id === id && (\r\n          <div className=\"profile_tab\">\r\n            <button\r\n              className={saveTab ? \"\" : \"active\"}\r\n              onClick={() => setSaveTab(false)}\r\n            >\r\n              posts\r\n            </button>\r\n            <button\r\n              className={saveTab ? \"active\" : \"\"}\r\n              onClick={() => setSaveTab(true)}\r\n            >\r\n              saved\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {profile.loading ? (\r\n          <img className=\"d-block mx-auto my-4\" src={LoadIcon} alt=\"Loading\" />\r\n        ) : (\r\n          <>\r\n            {\r\n              saveTab\r\n              ? <Saved auth={auth} dispatch={dispatch}  />\r\n              : <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n            }\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Avatar from '../Avatar';\r\nimport { imageShow, videoShow } from '../../utils/mediaShow'; \r\n\r\nconst MsgDisplay = ({user, msg, theme}) => {\r\n    return (\r\n      <>\r\n        <div className=\"chat_title\">\r\n          <Avatar src={user.avatar} size=\"small-avatar\" />\r\n          <span>{user.username}</span>\r\n        </div>\r\n        {msg.text && (\r\n          <div\r\n            className=\"chat_text\"\r\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n          >\r\n            {msg.text}\r\n          </div>\r\n        )}\r\n\r\n        {msg.media &&\r\n          msg.media.map((item, index) => (\r\n            <div key={index} style={{maxWidth: '380px', maxHeight: '380px'}}>\r\n              {item.url.match(/video/i)\r\n                ? videoShow(item.url, theme)\r\n                : imageShow(item.url, theme)}\r\n            </div>\r\n          ))}\r\n\r\n        <div className=\"chat_time\">\r\n          {new Date(msg.createdAt).toLocaleString()}\r\n        </div>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default MsgDisplay\r\n","import React, { useEffect, useState, useRef } from 'react';\r\nimport UserCard from \"../UserCard\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport MsgDisplay from './MsgDisplay';\r\nimport Icons from \"../Icons\";\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport { imageShow, videoShow } from '../../utils/mediaShow';\r\nimport { imageUpload } from '../../utils/imageUpload';\r\nimport { addMessage, getMessages, MESSAGE_TYPES } from '../../redux/actions/messageAction';\r\nimport LoadIcon from '../../images/loading.gif';\r\n\r\nconst RightSide = () => {\r\n    const { auth, message, theme, socket } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n    const [user, setUser] = useState([]);\r\n    const [text, setText] = useState('');\r\n    const [page, setPage] = useState(0);\r\n    const [data, setData] = useState([]);\r\n    const { id } = useParams();\r\n    const [media, setMedia] = useState([]);\r\n    const [loadMedia, setLoadMedia] = useState(false);\r\n\r\n    const refDisplay = useRef();\r\n    const pageEnd = useRef();\r\n\r\n    useEffect(() => {\r\n      const newData = message.data.filter(\r\n        (item) => item.sender === auth.user._id || item.sender === id\r\n      );\r\n      setData(newData);\r\n    }, [message.data, auth.user._id, id]);\r\n\r\n    useEffect(() => {\r\n      const newUser = message.users.find((user) => user._id === id);\r\n      if (newUser) {\r\n        setUser(newUser);\r\n      }\r\n    }, [message.users, id]);\r\n\r\n    const handleChangeMedia = (e) => {\r\n      const files = [...e.target.files];\r\n    let err = \"\";\r\n    let newMedia = [];\r\n\r\n    files.forEach((file) => {\r\n      if (!file) {\r\n        return (err = \"File does not exist.\");\r\n      }\r\n      if (file.size > 1024 * 1024 * 5) {\r\n        return (err = \"Image size must be less than 5 mb.\");\r\n      }\r\n      return newMedia.push(file);\r\n    });\r\n    if (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    }\r\n    setMedia([...media, ...newMedia]);\r\n    };\r\n\r\n    const handleDeleteMedia = (index) => {\r\n      const newArr = [...media];\r\n      newArr.splice(index, 1);\r\n      setMedia(newArr);\r\n    };\r\n\r\n    const handleSubmit = async e => {\r\n      e.preventDefault();\r\n      if(!text.trim() && media.length === 0) return;\r\n      setText('');\r\n      setMedia([]);\r\n\r\n      setLoadMedia(true);\r\n\r\n      let newArr = [];\r\n      if(media.length > 0) newArr = await imageUpload(media);\r\n\r\n      const msg = {\r\n        sender: auth.user._id,\r\n        recipient: id,\r\n        text,\r\n        media: newArr,\r\n        createdAt: new Date().toISOString()\r\n      }\r\n      setLoadMedia(false);\r\n      await dispatch(addMessage({msg, auth, socket}));\r\n      if (refDisplay.current) {\r\n        refDisplay.current.scrollIntoView({\r\n          behaviour: \"smooth\",\r\n          block: \"end\",\r\n        });\r\n      }\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (id) {\r\n        const getMessagesData = async () => {\r\n\r\n          dispatch({type: MESSAGE_TYPES.GET_MESSAGES, payload: { messages: [] } });\r\n          \r\n          setPage(1);\r\n          await dispatch(getMessages({ auth, id }));\r\n          if(refDisplay.current){\r\n            refDisplay.current.scrollIntoView({behaviour: 'smooth', block: 'end'});\r\n          }\r\n        };\r\n\r\n        getMessagesData();\r\n      }\r\n    }, [id, dispatch, auth]);\r\n\r\n    // load more\r\n\r\n    useEffect(() => {\r\n      const observer = new IntersectionObserver(\r\n        (entries) => {\r\n          if (entries[0].isIntersecting) {\r\n            setPage((p) => p + 1);\r\n          }\r\n        },\r\n        {\r\n          threshold: 0.1,\r\n        }\r\n      );\r\n      observer.observe(pageEnd.current);\r\n    }, [setPage]);\r\n\r\n    useEffect(() => {\r\n      if (message.resultData >= (page - 1) * 9 && page > 1) {\r\n        dispatch(getMessages({ auth, id, page }));\r\n      }\r\n    }, [message.resultData, page, id, auth, dispatch]);\r\n\r\n    useEffect(() => {\r\n      if (refDisplay.current) {\r\n        refDisplay.current.scrollIntoView({\r\n          behaviour: \"smooth\",\r\n          block: \"end\",\r\n        });\r\n      }\r\n    }, [text])\r\n\r\n    return (\r\n      <>\r\n        <div className=\"message_header\">\r\n          {user.length !== 0 && (\r\n            <UserCard user={user}>\r\n              <i className=\"fas fa-trash text-danger\" />\r\n            </UserCard>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className=\"chat_container\"\r\n          style={{ height: media.length > 0 ? \"calc(100% - 180px)\" : \"\" }}\r\n        >\r\n          <div className=\"chat_display\" ref={refDisplay}>\r\n            <button style={{marginTop: '-25px', opacity: 0}} ref={pageEnd}>Load..</button>\r\n\r\n            {data.map((msg, index) => (\r\n              <div key={index}>\r\n                {msg.sender !== auth.user._id && (\r\n                  <div className=\"chat_row other_message\">\r\n                    <MsgDisplay user={user} msg={msg} theme={theme} />\r\n                  </div>\r\n                )}\r\n                {msg.sender === auth.user._id && (\r\n                  <div className=\"chat_row you_message\">\r\n                    <MsgDisplay user={auth.user} msg={msg} theme={theme} />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n            {loadMedia && (\r\n              <div className=\"chat_row you_message\">\r\n                <img src={LoadIcon} alt=\"Loading...\" />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"show_media\"\r\n          style={{ display: media.length > 0 ? \"\" : \"none\" }}\r\n        >\r\n          {media.map((item, index) => (\r\n            <div key={index} id=\"file_media\">\r\n              {item.type.match(/video/i)\r\n                ? videoShow(URL.createObjectURL(item), theme)\r\n                : imageShow(URL.createObjectURL(item), theme)}\r\n              <span onClick={() => handleDeleteMedia(index)}>&times;</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <form className=\"chat_input\" onSubmit={handleSubmit}>\r\n          <input\r\n            placeholder=\"Type a message.\"\r\n            type=\"text\"\r\n            value={text}\r\n            onChange={(e) => setText(e.target.value)}\r\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" , background: theme ? '#040404' : '', color: theme ? 'white' : ''}}\r\n          />\r\n          <Icons setContent={setText} content={text} theme={theme} />\r\n          <div className=\"file_upload\">\r\n            <i className=\"fas fa-image color-c1\" />\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              id=\"file\"\r\n              multiple\r\n              accept=\"image/*,video/*\"\r\n              onChange={handleChangeMedia}\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={text || media.length > 0 ? false : true}\r\n            className=\"material-icons\"\r\n          >\r\n            near_me\r\n          </button>\r\n        </form>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default RightSide\r\n","import React from \"react\";\r\nimport LeftSide from \"../../components/message/LeftSide\";\r\nimport RightSide from \"../../components/message/RightSide\";\r\n\r\nconst Conversation = () => {\r\n  return (\r\n    <div className=\"message d-flex\">\r\n      <div className=\"col-md-4 px-0\" style={{ borderRight: \"1px solid #ddd\" }}>\r\n        <LeftSide />\r\n      </div>\r\n\r\n      <div className=\"col-md-8 px-0\">\r\n        <RightSide /> \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n","var map = {\n\t\"./adminDashboard\": 115,\n\t\"./adminDashboard.js\": 115,\n\t\"./discover\": 176,\n\t\"./discover.js\": 176,\n\t\"./home\": 116,\n\t\"./home.js\": 116,\n\t\"./login\": 92,\n\t\"./login.js\": 92,\n\t\"./message\": 112,\n\t\"./message/\": 112,\n\t\"./message/[id]\": 267,\n\t\"./message/[id].js\": 267,\n\t\"./message/index\": 112,\n\t\"./message/index.js\": 112,\n\t\"./post/[id]\": 265,\n\t\"./post/[id].js\": 265,\n\t\"./profile/[id]\": 266,\n\t\"./profile/[id].js\": 266,\n\t\"./register\": 114,\n\t\"./register.js\": 114\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 287;","import { GLOBALTYPES } from \"./globalTypes\";\r\nimport { postDataAPI, getDataAPI } from \"../../utils/fetchData\";\r\n\r\n\r\nexport const MESSAGE_TYPES = {\r\n  ADD_USER: \"ADD_USER\",\r\n  ADD_MESSAGE: \"ADD_MESSAGE\",\r\n  GET_CONVERSATIONS: \"GET_CONVERSATIONS\",\r\n  GET_MESSAGES: \"GET_MESSAGES\",\r\n};\r\n\r\nexport const addUser = ({ user, message }) => async (dispatch) => {\r\n    if(message.users.every(item => item._id !== user._id)){\r\n        dispatch({type: MESSAGE_TYPES.ADD_USER, payload: {...user, text: '', media: []} });\r\n    }\r\n};\r\n\r\nexport const addMessage = ({ msg, auth, socket }) => async (dispatch) => {\r\n\r\n  dispatch({type: MESSAGE_TYPES.ADD_MESSAGE, payload: msg});\r\n  socket.emit('addMessage', msg);\r\n\r\n  try {\r\n    await postDataAPI('message', msg, auth.token)\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg } });\r\n  }\r\n}\r\n\r\nexport const getConversations = ({auth, page = 1 }) => async (dispatch) => {\r\ntry {\r\n    const res = await getDataAPI(`conversations?limit=${page * 9}`, auth.token);\r\n    let newArr = [];\r\n    res.data.conversations.forEach(item => {\r\n      item.recipients.forEach(cv => {\r\n        if(cv._id !== auth.user._id){\r\n          newArr.push({...cv, text: item.text, media: item.media});\r\n        }\r\n      })\r\n    });\r\n\r\n    dispatch({ type: MESSAGE_TYPES.GET_CONVERSATIONS, payload: {newArr, result: res.data.result} });\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg } });\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nexport const getMessages = ({ auth, id, page = 1 }) => async (dispatch) => {\r\n  try {\r\n    const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token);\r\n\r\n    dispatch({ type: MESSAGE_TYPES.GET_MESSAGES, payload: res.data });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};","const valid = ({ fullname, username, email, password, cf_password }) => {\r\n    const err = {};\r\n\r\n    if(!fullname){\r\n        err.fullname = \"Please add full name.\";\r\n    }else if(fullname.length > 25){\r\n        err.fullname = \"Full name must be smaller than 25 characters.\";\r\n    }\r\n\r\n    if (!username) {\r\n      err.username = \"Please add User name.\";\r\n    } else if (username.replace(/ /g, '').length > 25) {\r\n      err.username = \"User name must be smaller than 25 characters.\";\r\n    }\r\n\r\n    if (!email) {\r\n      err.email = \"Please add Email.\";\r\n    }\r\n\r\n    if (!password) {\r\n      err.password = \"Please add Password.\";\r\n    } else if (password.length < 6) {\r\n      err.password = \"Password must be al least 6 characters long.\";\r\n    }\r\n\r\n    if (password !== cf_password) {\r\n      err.cf_password = \"Password does not match.\";\r\n    }\r\n\r\n    return {\r\n        errMsg: err,\r\n        errLength: Object.keys(err).length  \r\n    }\r\n};\r\n\r\nexport default valid;","import { postDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"./globalTypes\";\r\nimport valid from \"../../utils/valid\";\r\n\r\nexport const TYPES = {\r\n  AUTH: \"AUTH\",\r\n};\r\n\r\nexport const login = (data) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    const res = await postDataAPI(\"login\", data);\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: { token: res.data.access_token, user: res.data.user },\r\n    });\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.USER_TYPE,\r\n      payload: res.data.user.role,\r\n    });\r\n\r\n    localStorage.setItem(\"firstLogin\", true);\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const changePassword = ({oldPassword, newPassword, cnfNewPassword, auth}) => async (dispatch) => {\r\n\r\n  if(!oldPassword || oldPassword.length === 0){\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"Please enter your old  password.\" },\r\n    });\r\n  }\r\n  if(!newPassword || newPassword.length === 0){\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"Please enter your new  password.\" },\r\n    });\r\n  }\r\n  if(!cnfNewPassword || cnfNewPassword.length === 0){\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"Please confirm your new  password.\" },\r\n    });\r\n  }\r\n  if(newPassword !==cnfNewPassword){\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"Your password does not match\" },\r\n    });\r\n  }\r\n  \r\n  try {\r\n    \r\n    \r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} });\r\n\r\n    const res = await postDataAPI('changePassword', {oldPassword, newPassword}, auth.token );\r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: false} });\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const adminLogin = (data) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    const res = await postDataAPI(\"admin_login\", data);\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: { token: res.data.access_token, user: res.data.user },\r\n    });\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.USER_TYPE,\r\n      payload: res.data.user.role,\r\n    });\r\n\r\n    localStorage.setItem(\"firstLogin\", true);\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const refreshToken = () => async (dispatch) => {\r\n  const firstLogin = localStorage.getItem(\"firstLogin\");\r\n  if (firstLogin) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    try {\r\n      const res = await postDataAPI(\"refresh_token\");\r\n      dispatch({\r\n        type: GLOBALTYPES.AUTH,\r\n        payload: { token: res.data.access_token, user: res.data.user },\r\n      });\r\n\r\n      dispatch({\r\n        type: GLOBALTYPES.USER_TYPE,\r\n        payload: res.data.user.role,\r\n      });\r\n\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: {} });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport const register = (data) => async (dispatch) => {\r\n  const check = valid(data);\r\n  if (check.errLength > 0) {\r\n    return dispatch({ type: GLOBALTYPES.ALERT, payload: check.errMsg });\r\n  }\r\n\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n\r\n    const res = await postDataAPI(\"register\", data);\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: { token: res.data.access_token, user: res.data.user },\r\n    });\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.USER_TYPE,\r\n      payload: res.data.user.role,\r\n    });\r\n\r\n    localStorage.setItem(\"firstLogin\", true);\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const registerAdmin = (data) => async (dispatch) => {\r\n  const check = valid(data);\r\n  if (check.errLength > 0) {\r\n    return dispatch({ type: GLOBALTYPES.ALERT, payload: check.errMsg });\r\n  }\r\n\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n\r\n    const res = await postDataAPI(\"register_admin\", data);\r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  try {\r\n    localStorage.removeItem(\"firstLogin\");\r\n\r\n    await postDataAPI(\"logout\");\r\n    window.location.href = \"/\";\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n","import React from 'react';\r\nimport Avatar from \"./Avatar\";\r\nimport { Link } from \"react-router-dom\";\r\n// import { useSelector } from \"react-redux\";\r\n\r\nconst UserCard = ({\r\n  children,\r\n  user,\r\n  border,\r\n  handleClose,\r\n  setShowFollowers,\r\n  setShowFollowing,\r\n  msg\r\n}) => {\r\n\r\n  // const { theme } = useSelector(state => state);\r\n\r\n  const handleCloseAll = () => {\r\n    if (handleClose) handleClose();\r\n    if (setShowFollowers) setShowFollowers(false);\r\n    if (setShowFollowing) setShowFollowing(false);\r\n  };\r\n  return (\r\n    <div\r\n      className={`d-flex justify-content-between p-2 w-100 align-items-center ${border}`}\r\n    >\r\n      <div>\r\n        <Link\r\n          to={`/profile/${user._id}`}\r\n          onClick={handleCloseAll}\r\n          className=\"d-flex align-items-center\"\r\n          style={{ textDecoration: \"none\" }}\r\n        >\r\n          <div className=\"outer-shadow big-avatar-cover \">\r\n            <Avatar src={user.avatar} size=\"big-avatar\" />\r\n          </div>\r\n          <div className=\"ms-2\" style={{ transform: \"translateY(-2px)\" }}>\r\n            <span className=\"d-block color-c2\">{user.username}</span>\r\n\r\n            <small className=\"d-flex text-muted\" style={{ flexWrap: \"wrap\" }}>\r\n              {msg ? (\r\n                <>\r\n                  <div>{user.text}</div>\r\n                  {user.media.length > 0 && <div>{user.media.length} <i className=\"fas fa-image\" /></div>}\r\n                </>\r\n              ) : (\r\n                user.fullname\r\n              )}\r\n            </small>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserCard\r\n","export const imageShow = (src, theme) => {\r\n  return (\r\n    <img\r\n      src={src}\r\n      className=\"img-thumbnail\"\r\n      alt=\"uploaded pics\"\r\n      style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const videoShow = (src, theme) => {\r\n  return (\r\n    <video\r\n      controls\r\n      src={src}\r\n      className=\"img-thumbnail\"\r\n      alt=\"uploaded pics\"\r\n      style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n    />\r\n  );\r\n};\r\n","import axios from 'axios';\r\n\r\nexport const getDataAPI = async (url,token) => {\r\n    const res = await axios.get(`/api/${url}`,{\r\n        headers: { Authorization: token}\r\n    });\r\n    return res;\r\n}\r\n\r\nexport const postDataAPI = async (url, post, token) => {\r\n  const res = await axios.post(`/api/${url}`, post, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const putDataAPI = async (url, post, token) => {\r\n  const res = await axios.put(`/api/${url}`, post, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const patchDataAPI = async (url, post, token) => {\r\n  const res = await axios.patch(`/api/${url}`, post, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\n\r\nexport const deleteDataAPI = async (url, token) => {\r\n  const res = await axios.delete(`/api/${url}`, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};","import { v2 as cloudinary } from \"cloudinary\";\r\nconst uploadOnCloudinary= async(localFilePath)=>{\r\ntry{\r\n    if(!localFilePath)\r\n        return null;\r\n    //upload file on cloudinary\r\n    const response=await cloudinary.uploader.upload(localFilePath,{\r\n        resource_type:\"auto\"\r\n    })\r\n    //file has been uploaded successfully\r\n    console.log(\"file is uploaded on cloudinary\",response.url);\r\n    return response;\r\n\r\n}\r\ncatch (error){\r\n\r\n//remove the locally saved temporary file as the upload operation got failed\r\nreturn null;\r\n}\r\n}\r\ncloudinary.config({ \r\n    cloud_name: \"doagrwjza\", \r\n    api_key:\"836546579181417\", \r\n    api_secret:\"t4TpTkLAUMpM99uw4s2p0RIp140\" // Click 'View API Keys' above to copy your API secret\r\n});\r\nexport {uploadOnCloudinary}","import { uploadOnCloudinary } from \"./upoader\";\r\n\r\nexport const checkImage = (file) => {\r\n    let err = \"\";\r\n    if(!file){\r\n        return err = \"File does not exist.\";\r\n    }\r\n//?1 mb\r\n    if(file.size > 1024 * 1024){\r\n         return (err = \"File size must be less than 1 Mb.\");\r\n    }\r\n\r\n    if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\r\n      return (err = \"Image must be jpeg or png.\");\r\n    }\r\n\r\n    return err;\r\n}\r\n\r\nexport const imageUpload = async (images) => {\r\n    let imgArr = [];\r\n    for(const item of images){\r\n        const formData = new FormData();\r\n     \r\n        if(item.camera){\r\n         \r\n            formData.append(\"file\", item.camera);\r\n        }else{\r\n            \r\n\r\n            formData.append(\"file\", item);  \r\n        }\r\n        console.log(item)\r\n\r\n        \r\n        formData.append(\"upload_preset\", \"anchal\");\r\n        formData.append(\"cloud_name\", \"djihupfak\");\r\n\r\n        const res = await fetch(\"https://api.cloudinary.com/v1_1/djihupfak/image/upload\", {\r\n            method: \"POST\",\r\n            body: formData\r\n        })\r\n\r\n        const data = await res.json();\r\n        console.log(data);\r\n        imgArr.push({ public_id: data.public_id, url: data.secure_url });\r\n        \r\n      \r\n    }\r\n    return imgArr;\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { follow, unfollow } from \"../redux/actions/profileAction\";\r\n\r\nconst FollowBtn = ({user}) => {\r\n    const [ followed, setFollowed ] = useState(false);\r\n\r\n    const { auth, profile, socket } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n\r\n    const [load, setLoad] = useState(false);\r\n\r\n    useEffect(() => {\r\n      if (auth.user.following.find((item) => item._id === user._id)) {\r\n        setFollowed(true);\r\n      }\r\n      return () => setFollowed(false);\r\n    }, [auth.user.following, user._id]);\r\n\r\n    const handleFollow = async () => {\r\n        if(load) return;\r\n\r\n        setFollowed(true);\r\n        setLoad(true);\r\n        await dispatch(follow({ users: profile.users, user, auth, socket }));\r\n        setLoad(false);\r\n    };\r\n\r\n    const handleUnFollow = async () => {\r\n      if (load) return;\r\n\r\n      setFollowed(false);\r\n      setLoad(true);\r\n      await dispatch(unfollow({ users: profile.users, user, auth, socket }));\r\n      setLoad(false);\r\n    };\r\n\r\n\r\n    return (\r\n      <>\r\n        {followed ? (\r\n          <button className=\"btn-1 hover-in-shadow outer-shadow\" onClick={handleUnFollow}>\r\n            Unfollow\r\n          </button>\r\n        ) : (\r\n          <button className=\"btn-1 hover-in-shadow outer-shadow\" onClick={handleFollow}>\r\n            Follow\r\n          </button>\r\n        )}\r\n      </>\r\n    );\r\n}\r\n\r\nexport default FollowBtn\r\n","import React from 'react'\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className=\"position-relative\" style={{minHeight: \"calc(100vh - 70px)\"}}>\r\n            <h2 className=\"position-absolute text-secondary\" style={{top: '50%', left:'50%', transform: 'translate(-50%, -50%)'}}>\r\n                404 | Not Found.\r\n            </h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport NotFound from \"../components/NotFound\";\r\n\r\nconst generatePage = (pageName) => {\r\n  const component = () => require(`../pages/${pageName}`).default;\r\n\r\n  try {\r\n    return React.createElement(component());\r\n  } catch (err) {\r\n    return <NotFound />;\r\n  }\r\n};\r\n\r\nconst PageRender = () => {\r\n  const { page, id } = useParams();\r\n  const { auth } = useSelector((state) => state);\r\n\r\n  let pageName = \"\";\r\n  if (auth.token) {\r\n    if (id) {\r\n      pageName = `${page}/[id]`;\r\n    } else {\r\n      pageName = `${page}`;\r\n    }\r\n  }\r\n\r\n  return generatePage(pageName);\r\n};\r\n\r\nexport default PageRender;\r\n","import React from 'react'\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst PrivateRouter = (props) => {\r\n    const firstLogin = localStorage.getItem('firstLogin');\r\n    return firstLogin ? <Route {...props} /> :  <Redirect to=\"/\" />\r\n}\r\n\r\nexport default PrivateRouter\r\n","//!its a component\r\nimport React from \"react\";\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        background: \"white\",\r\n        top: 0,\r\n        left: 0,\r\n        zIndex: 50,\r\n        opacity: 0.7\r\n      }}\r\n      className=\"position-fixed vh-100 w-100   d-flex justify-content-center align-items-center\"\r\n    >\r\n      <div className=\"loading\">\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n      </div>\r\n\r\n      <text className=\"loading_text\" fill=\"#fff\" x=\"5\" y=\"47\">\r\n        Loading\r\n      </text>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react'\r\n\r\nconst Toast = ({ msg, handleShow, bgColor }) => {\r\n  return (\r\n    <div\r\n      className={`toast show position-fixed text-light ${bgColor} `}\r\n      style={{ top: \"5px\", right: \"5px\", minWidth: \"200px\", zIndex: 50 }}\r\n    >\r\n      <div className={`toast-header text-light ${bgColor}`}>\r\n        <strong className=\"mr-auto text-light\">{msg.title}</strong>\r\n        <button\r\n          className=\"ml-auto mb-1 close text-light\"\r\n          data-dismiss=\"toast\"\r\n          style={{\r\n            border: \"none\",\r\n            background: \"none\",\r\n            fontSize: \"30px\",\r\n            right: 0,\r\n          }}\r\n          onClick={handleShow}\r\n        >\r\n          &times;\r\n        </button>\r\n      </div>\r\n      <div className=\"toast-body\">{msg.body}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toast\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Loading from \"./Loading\";\r\nimport Toast from \"./Toast\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\n\r\nconst Alert = () => {\r\n  const { alert } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <div>\r\n      {alert.loading && <Loading />}\r\n\r\n      {alert.error && (\r\n        <Toast\r\n          msg={{ title: \"Error\", body: alert.error }}\r\n          handleShow={() => dispatch({ type: GLOBALTYPES.ALERT, payload: {} })}\r\n          bgColor=\"bg-danger\"\r\n        />\r\n      )}\r\n\r\n      {alert.success && (\r\n        <Toast\r\n          msg={{ title: \"Success\", body: alert.success }}\r\n          handleShow={() => dispatch({ type: GLOBALTYPES.ALERT, payload: {} })}\r\n          bgColor=\"bg-success\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"./Avatar\";\r\nimport moment from 'moment';\r\nimport { deleteAllNotifies, isReadNotify, NOTIFY_TYPES } from '../redux/actions/notifyAction';\r\n\r\nconst NotifyModal = () => {\r\n    const { auth, notify } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleIsRead = (msg) => {\r\n      dispatch(isReadNotify({msg, auth}));\r\n    };\r\n\r\n    const handleDeleteAll = () => {\r\n      const newArr = notify.data.filter(item => item.isRead === false)\r\n      if(newArr.length === 0) return dispatch(deleteAllNotifies(auth.token))\r\n\r\n      if(window.confirm(`You have ${newArr.length} unread notifications.Do you want to delete all notifications?`)){\r\n        return dispatch(deleteAllNotifies(auth.token))\r\n      }\r\n    };\r\n\r\n    const handleSound = () => {\r\n      dispatch({type: NOTIFY_TYPES.UPDATE_SOUND, payload: !notify.sound });\r\n    };\r\n\r\n    return (\r\n      <div\r\n        className=\"mt-1\"\r\n        style={{\r\n          minWidth: \"280px\",\r\n          boxShadow: \"5px 8px 8px var(--c2) ,-3px -3px 8px var(--c3)\",\r\n          background: \"white\",\r\n          borderRadius: \"10px\",\r\n          borderTopRightRadius: \"0\",\r\n        }}\r\n      >\r\n        <div className=\"d-flex justify-content-between align-items-center\">\r\n          <h3>Notifications</h3>\r\n          {notify.sound ? (\r\n            <i\r\n              className=\"fas fa-bell text-danger\"\r\n              style={{ fontSize: \"1.2rem\", cursor: \"pointer\" }}\r\n              onClick={handleSound}\r\n            />\r\n          ) : (\r\n            <i\r\n              className=\"fas fa-bell-slash text-danger\"\r\n              style={{ fontSize: \"1.2rem\", cursor: \"pointer\" }}\r\n              onClick={handleSound}\r\n            />\r\n          )}\r\n        </div>\r\n        <hr className=\"mt-1\" />\r\n        {notify.data.length === 0 && (\r\n          <span className=\"text-muted w-100 text-center\">No Notifications</span>\r\n        )}\r\n        <div style={{ maxHeight: \"calc(100vh - 200px)\", overflow: \"auto\" }}>\r\n          {notify.data.map((msg, index) => (\r\n            <div className=\"px-2 mb-3\" key={index}>\r\n              <Link\r\n                to={`${msg.url}`}\r\n                style={{ textDecoration: \"none\" }}\r\n                className=\"d-flex text-dark align-items-center\"\r\n                onClick={() => handleIsRead(msg)}\r\n              >\r\n                <Avatar src={msg.user.avatar} size=\"big-avatar\" />\r\n\r\n                <div className=\"flex-fill mx-1\">\r\n                  <div>\r\n                    <strong className=\"mr-1\">{msg.user.username}</strong>\r\n                    <span>{msg.text}</span>\r\n                  </div>\r\n                  {msg.content && <small>{msg.content.slice(0, 20)}...</small>}\r\n                </div>\r\n                <div style={{ width: \"30px\" }}>\r\n                  {msg.image && <Avatar src={msg.image} size=\"medium-avatar\" />}\r\n                </div>\r\n              </Link>\r\n              <small className=\"text-muted d-flex justify-content-between px-2\">\r\n                {moment(msg.createdAt).fromNow()}\r\n                {!msg.isRead && <i className=\"fas fa-circle color-c1\" />}\r\n              </small>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <hr className=\"my-1\" />\r\n        <div\r\n          className=\"text-end my-auto me-2 color-c1\"\r\n          style={{ cursor: \"pointer\" }}\r\n          onClick={handleDeleteAll}\r\n        >\r\n          Delete\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default NotifyModal\r\n","import React from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { logout } from \"../../redux/actions/authAction\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport Avatar from \"../Avatar\";\r\nimport NotifyModal from \"../NotifyModal\";\r\n\r\nconst Menu = () => {\r\n  const navLinks = [\r\n    { label: \"Home\", icon: \"home\", path: \"/\" },\r\n    { label: \"Message\", icon: \"near_me\", path: \"/message\" },\r\n    { label: \"Discover\", icon: \"explore\", path: \"/discover\" },\r\n  ];\r\n\r\n  const { auth, theme, notify } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const { pathname } = useLocation();\r\n\r\n  const isActive = (pn) => {\r\n    if (pn === pathname) return \"active\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu\">\r\n      <ul className=\"navbar-nav flex-row mb-2 mb-lg-0\">\r\n        {navLinks.map((link, index) => (\r\n          <li className={`nav-item px-2 ${isActive(link.path)}`} key={index}>\r\n            <Link className={`nav-link `} to={link.path}>\r\n              <span className={`material-icons `}>{link.icon}</span>\r\n            </Link>\r\n          </li>\r\n        ))}\r\n\r\n        <li className=\"nav-item dropdown\" style={{ opacity: \"1\" }}>\r\n          <span\r\n            className=\"nav-link position-relative\"\r\n            id=\"navbarDropdown\"\r\n            role=\"button\"\r\n            data-bs-toggle=\"dropdown\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            <span\r\n              style={{ color: notify.data.length > 0 ? \"var(--c1)\" : \"\" }}\r\n              className={`material-icons `}\r\n            >\r\n              notifications\r\n            </span>\r\n            <span className=\"notify_length\">{notify.data.length}</span>\r\n          </span>\r\n\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n            <NotifyModal />\r\n          </div>\r\n        </li>\r\n\r\n        <li className=\"nav-item dropdown\" style={{ opacity: \"1\" }}>\r\n          <span\r\n            className=\"nav-link dropdown-toggle\"\r\n            id=\"navbarDropdown\"\r\n            role=\"button\"\r\n            data-bs-toggle=\"dropdown\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            <Avatar src={auth.user.avatar} size=\"medium-avatar\" />\r\n          </span>\r\n          <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n            <li>\r\n              <Link\r\n                style={{ color: \"white\" }}\r\n                className=\"dropdown-item\"\r\n                to={`/profile/${auth.user._id}`}\r\n              >\r\n                Profile\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <label\r\n                style={{ color: \"white\" }}\r\n                htmlFor=\"theme\"\r\n                className=\"dropdown-item\"\r\n                onClick={() =>\r\n                  dispatch({ type: GLOBALTYPES.THEME, payload: !theme })\r\n                }\r\n              >\r\n                {theme ? \"Light mode\" : \"Dark mode\"}\r\n              </label>\r\n            </li>\r\n            <li>\r\n              <hr className=\"dropdown-divider\" />\r\n            </li>\r\n\r\n            <li>\r\n              <Link\r\n                style={{ color: \"white\" }}\r\n                className=\"dropdown-item\"\r\n                to=\"/\"\r\n                onClick={() => dispatch(logout())}\r\n              >\r\n                Logout\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\n// import { Link } from \"react-router-dom\";\r\nimport UserCard from \"../UserCard\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\n\r\nconst Search = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!search) return;\r\n\r\n    try {\r\n      setLoad(true);\r\n      const res = await getDataAPI(`search?username=${search}`, auth.token);\r\n      setUsers(res.data.users);\r\n      setLoad(false);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setSearch(\"\");\r\n    setUsers([]);\r\n  };\r\n\r\n  return (\r\n    <form className=\"search_form\" onSubmit={handleSearch}>\r\n      <input\r\n        type=\"text\"\r\n        title=\"Enter to Search\"\r\n        name=\"search\"\r\n        value={search}\r\n        id=\"search\"\r\n        onChange={(e) =>\r\n          setSearch(e.target.value.toLowerCase().replace(/ /g, \" \"))\r\n        }\r\n      />\r\n      <div className=\"search_icon\" style={{ opacity: search ? 0 : 0.3 }}>\r\n        <span className=\"material-icons\">search</span>\r\n        <span>Enter to Search</span>\r\n      </div>\r\n\r\n      <div\r\n        onClick={handleClose}\r\n        className=\"close_search\"\r\n        style={{ opacity: users.length === 0 ? 0 : 1 }}\r\n      >\r\n        &times;\r\n      </div>\r\n\r\n      <button type=\"submit\" style={{ display: \"none\" }}>\r\n        Search\r\n      </button>\r\n\r\n      {load && <img className=\"loading\" src={LoadIcon} alt=\"Loading\" />}\r\n\r\n      <div className=\"users\">\r\n        {search &&\r\n          users.map((user) => (\r\n            <UserCard\r\n              key={user._id}\r\n              user={user}\r\n              border=\"border\"\r\n              handleClose={handleClose}\r\n            />\r\n          ))}\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Menu from \"./Menu\";\r\nimport Search from \"./Search\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getPosts } from '../../redux/actions/postAction';\r\nimport { getSuggestions } from '../../redux/actions/suggestionsAction';\r\n\r\n\r\nconst Header = () => {\r\n  const { auth } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleRefreshHome = () => {\r\n    window.scrollTo({top: 0})\r\n    dispatch(getPosts(auth.token));\r\n    dispatch(getSuggestions(auth.token));\r\n  };\r\n\r\n  return (\r\n    <div className=\"header bg-light\">\r\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light justify-content-between\">\r\n        <div className=\"container-fluid\">\r\n          <Link to=\"/\" className=\"logo\" onClick={handleRefreshHome}>\r\n            <h1 className=\"navbar-brand\" style={{color:\"darkblue\"}}>Socialgram</h1>\r\n          </Link>\r\n\r\n          <Search />\r\n\r\n          <Menu />\r\n         \r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { GLOBALTYPES } from \"../redux/actions/globalTypes\";\r\nimport { createPost, updatePost } from \"../redux/actions/postAction\";\r\nimport Icons from \"./Icons\";\r\nimport { imageShow, videoShow } from \"../utils/mediaShow\";\r\n\r\nconst StatusModal = () => {\r\n  const { auth, theme, status, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [content, setContent] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [stream, setStream] = useState(false);\r\n  const videoRef = useRef();\r\n  const refCanvas = useRef();\r\n  const [tracks, setTracks] = useState(\"\");\r\n\r\n  const handleChangeImages = (e) => {\r\n    const files = [...e.target.files];\r\n    let err = \"\";\r\n    let newImages = [];\r\n\r\n    files.forEach((file) => {\r\n      if (!file) {\r\n        return (err = \"File does not exist.\");\r\n      }\r\n      if (file.size > 1024 * 1024 * 5) {\r\n        return (err = \"Image size must be less than 5 mb.\");\r\n      }\r\n      return newImages.push(file);\r\n    });\r\n    if (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    }\r\n    setImages([...images, ...newImages]);\r\n  };\r\n\r\n  const deleteImages = (index) => {\r\n    const newArr = [...images];\r\n    newArr.splice(index, 1);\r\n    setImages(newArr);\r\n  };\r\n\r\n  const handleStream = () => {\r\n    setStream(true);\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n      navigator.mediaDevices\r\n        .getUserMedia({ video: true })\r\n        .then((mediaStream) => {\r\n          videoRef.current.srcObject = mediaStream;\r\n          videoRef.current.play();\r\n          const track = mediaStream.getTracks();\r\n          setTracks(track[0]);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const handleCapture = () => {\r\n    const width = videoRef.current.clientWidth;\r\n    const height = videoRef.current.clientHeight;\r\n\r\n    refCanvas.current.setAttribute(\"width\", width);\r\n    refCanvas.current.setAttribute(\"height\", height);\r\n\r\n    const ctx = refCanvas.current.getContext(\"2d\");\r\n    ctx.drawImage(videoRef.current, 0, 0, width, height);\r\n\r\n    let URL = refCanvas.current.toDataURL();\r\n    setImages([...images, { camera: URL }]);\r\n  };\r\n\r\n  const handleStopStream = () => {\r\n    tracks.stop();\r\n    setStream(false);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (images.length === 0) {\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: \"Add image(s).\" },\r\n      });\r\n    }\r\n\r\n    if (status.onEdit) {\r\n      dispatch(updatePost({ content, images, auth, status }));\r\n    } else {\r\n      dispatch(createPost({ content, images, auth, socket }));\r\n    }\r\n\r\n    setContent(\"\");\r\n    setImages([]);\r\n    if (tracks) {\r\n      tracks.stop();\r\n    }\r\n    dispatch({\r\n      type: GLOBALTYPES.STATUS,\r\n      payload: false,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (status.onEdit) {\r\n      setContent(status.content);\r\n      setImages(status.images);\r\n    }\r\n  }, [status]);\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"status_modal\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"status_header\">\r\n          <h5 className=\"m-0\">Create Post</h5>\r\n          <span\r\n            onClick={() =>\r\n              dispatch({ type: GLOBALTYPES.STATUS, payload: false })\r\n            }\r\n          >\r\n            &times;\r\n          </span>\r\n        </div>\r\n        <div className=\"status_body\">\r\n          <textarea\r\n            onChange={(e) => setContent(e.target.value)}\r\n            value={content}\r\n            name=\"content\"\r\n            placeholder={`${auth.user.username}, What's on your mind?`}\r\n            style={{\r\n              filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n              color: theme ? \"white\" : \"#111\",\r\n              background: theme ? \"rgb(0,0,0,0.3)\" : \"\",\r\n            }}\r\n          />\r\n\r\n          <div className=\"d-flex\">\r\n            <div className=\"flex-fill\"></div>\r\n            <Icons setContent={setContent} content={content} theme={theme} />\r\n          </div>\r\n\r\n          <div className=\"show_images\">\r\n            {images.map((img, index) => (\r\n              <div key={index} className=\"file_img\">\r\n                {img.camera ? (\r\n                  imageShow(img.camera, theme)\r\n                ) : img.url ? (\r\n                  <>\r\n                    {img.url.match(/video/i)\r\n                      ? videoShow(img.url)\r\n                      : imageShow(img.url)}\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    {img.type.match(/video/i)\r\n                      ? videoShow(URL.createObjectURL(img, theme))\r\n                      : imageShow(URL.createObjectURL(img, theme))}\r\n                  </>\r\n                )}\r\n                <span onClick={() => deleteImages(index)}>&times;</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {stream && (\r\n            <div className=\"stream position-relative\">\r\n              <video\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                ref={videoRef}\r\n                style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n                autoPlay\r\n                muted\r\n              />\r\n\r\n              <span onClick={handleStopStream}>&times;</span>\r\n              <canvas style={{ display: \"none\" }} ref={refCanvas} />\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"input_images\">\r\n            {stream ? (\r\n              <i className=\"fas fa-camera\" onClick={handleCapture} />\r\n            ) : (\r\n              <>\r\n                <i className=\"fas fa-camera\" onClick={handleStream} />\r\n                <div className=\"file_upload\">\r\n                  <i className=\"fas fa-image\" />\r\n                  <input\r\n                    onChange={handleChangeImages}\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    id=\"file\"\r\n                    multiple\r\n                    accept=\"image/*,video/*\"\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"status_footer\">\r\n          <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n            Post\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatusModal;\r\n","export default __webpack_public_path__ + \"static/media/pristine-609.9287f5ce.mp3\";","import React, { useEffect, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { POST_TYPES } from \"./redux/actions/postAction\";\r\nimport { ADMIN_TYPES } from \"./redux/actions/adminAction\";\r\nimport { GLOBALTYPES } from \"./redux/actions/globalTypes\";\r\nimport { NOTIFY_TYPES } from \"./redux/actions/notifyAction\";\r\nimport { MESSAGE_TYPES } from \"./redux/actions/messageAction\";\r\n\r\nimport audioTone from './audio/pristine-609.mp3' \r\n\r\nconst spawnNotification = (body, icon, url, title) => {\r\n  let options = {\r\n    body, icon\r\n  }\r\n  let n = new Notification(title, options);\r\n  n.onclick =  e => {\r\n    e.preventDefault();\r\n    window.open(url, '_blank');\r\n  }\r\n}\r\n\r\nconst SocketClient = () => {\r\n  const { auth, socket, notify } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const audioRef = useRef();\r\n\r\n  //!connection\r\n  useEffect(() => {\r\n    if (auth.user.role === \"user\") {\r\n      socket.emit(\"joinUser\", auth.user._id);\r\n    } else if (auth.user.role === \"admin\") {\r\n      socket.emit(\"joinAdmin\", auth.user._id);\r\n    }\r\n  }, [socket, auth.user.role, auth.user._id]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"getActiveUsersToClient\", (totalActiveUsers) => {\r\n      dispatch({\r\n        type: ADMIN_TYPES.GET_TOTAL_ACTIVE_USERS,\r\n        payload: totalActiveUsers,\r\n      });\r\n    });\r\n    return () => socket.off(\"getActiveUsersToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!like Post\r\n  useEffect(() => {\r\n    socket.on(\"likeToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off(\"likeToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!Unlike Post\r\n  useEffect(() => {\r\n    socket.on(\"unLikeToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off(\"unLikeToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!Comments\r\n  useEffect(() => {\r\n    socket.on(\"createCommentToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off(\"createCommentToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"deleteCommentToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off(\"deleteCommentToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!Follow\r\n  useEffect(() => {\r\n    socket.on(\"followToClient\", (newUser) => {\r\n      dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n    });\r\n    return () => socket.off(\"followToClient\");\r\n  }, [socket, dispatch, auth]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"unFollowToClient\", (newUser) => {\r\n      dispatch({\r\n        type: GLOBALTYPES.AUTH,\r\n        payload: { ...auth, user: newUser },\r\n      });\r\n    });\r\n    return () => socket.off(\"unFollowToClient\");\r\n  }, [socket, dispatch, auth]);\r\n\r\n  //!Notifications\r\n  useEffect(() => {\r\n    socket.on(\"createNotifyToClient\", (msg) => {\r\n      dispatch({ type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg });\r\n\r\n      if (notify.sound) {\r\n        audioRef.current.play();\r\n      }\r\n      spawnNotification(\r\n        msg.user.username + \" \" + msg.text,\r\n        msg.user.avatar,\r\n        msg.url,\r\n        \"CAMPUS CONNECT\"\r\n      );\r\n    });\r\n    return () => socket.off(\"createNotifyToClient\");\r\n  }, [socket, dispatch, notify.sound]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"removeNotifyToClient\", (msg) => {\r\n      dispatch({ type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg });\r\n    });\r\n    return () => socket.off(\"removeNotifyToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!Messages\r\n  useEffect(() => {\r\n    socket.on(\"addMessageToClient\", (msg) => {\r\n      dispatch({ type: MESSAGE_TYPES.ADD_MESSAGE, payload: msg });\r\n\r\n    });\r\n    return () => socket.off(\"addMessageToClient\");\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <audio controls ref={audioRef} style={{ display: \"none\" }}>\r\n        <source src={audioTone} type=\"audio/mp3\" />\r\n      </audio>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SocketClient;\r\n","import { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport io from 'socket.io-client'\r\n\r\nimport PageRender from \"./customRouter/PageRender\";\r\nimport PrivateRouter from \"./customRouter/PrivateRouter\";\r\nimport Login from \"./pages/login\";\r\nimport Register from \"./pages/register\";\r\nimport Home from \"./pages/home\";\r\nimport Alert from \"./components/alert/Alert\";\r\nimport Header from \"./components/header/Header\";\r\nimport StatusModal from \"./components/StatusModal\";\r\nimport { refreshToken } from \"./redux/actions/authAction\";\r\nimport { getPosts } from \"./redux/actions/postAction\";\r\nimport { getSuggestions } from \"./redux/actions/suggestionsAction\";\r\nimport { getNotifies } from \"./redux/actions/notifyAction\";\r\n\r\nimport AdminDashboard from \"./pages/adminDashboard\";\r\nimport { GLOBALTYPES } from \"./redux/actions/globalTypes\";\r\nimport SocketClient from \"./SocketClient\";\r\n\r\nfunction App() {\r\n  const { auth, status, modal, userType } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(refreshToken());\r\n\r\n    const socket = io();\r\n    dispatch({type: GLOBALTYPES.SOCKET, payload: socket })\r\n    return () => socket.close()\r\n  }, [dispatch]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (auth.token) {\r\n      dispatch(getPosts(auth.token));\r\n      dispatch(getSuggestions(auth.token));\r\n      dispatch(getNotifies(auth.token));\r\n    }\r\n  }, [dispatch, auth.token]);\r\n\r\n  useEffect(() => {\r\n    if (!(\"Notification\" in window)) {\r\n      alert(\"This browser does not support desktop notification\");\r\n    } else if (Notification.permission === \"granted\") {\r\n\r\n    } else if (Notification.permission !== \"denied\") {\r\n      Notification.requestPermission().then(function (permission) {\r\n        if (permission === \"granted\") {\r\n        }\r\n      });\r\n    }\r\n  }, [])\r\n\r\n   \r\n\r\n  return (\r\n    <Router>\r\n      <Alert />\r\n      <input type=\"checkbox\" id=\"theme\" />\r\n      <div className={`App ${(status || modal) && \"mode\"}`}>\r\n        <div className=\"main\">\r\n          {userType === \"user\" && auth.token && <Header />}\r\n          {status && <StatusModal />}\r\n          {auth.token && <SocketClient /> }\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            component={\r\n              userType === \"user\"\r\n                ? auth.token\r\n                  ? Home\r\n                  : Login\r\n                : auth.token\r\n                ? AdminDashboard\r\n                : Login\r\n            }\r\n          />\r\n\r\n          {userType === \"user\" && (\r\n            <>\r\n              <Route exact path=\"/register\" component={Register} />\r\n              <div className=\"wrap_page\">\r\n                <PrivateRouter exact path=\"/:page\" component={PageRender} />\r\n                <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\n\r\nconst initialState = {\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case GLOBALTYPES.AUTH:\r\n        return action.payload;\r\n\r\n      default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst userTypeReducer = (state = \"user\", action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.USER_TYPE:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userTypeReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {};\r\n\r\nconst alertReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.ALERT:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default alertReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst initialState = false;\r\n\r\nconst themeReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.THEME:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default themeReducer;\r\n","import { PROFILE_TYPES } from \"../actions/profileAction\";\r\nimport { EditData } from '../actions/globalTypes';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  ids:[],\r\n  users: [],\r\n  posts: []\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case PROFILE_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case PROFILE_TYPES.GET_USER:\r\n      return {\r\n        ...state,\r\n        users: [...state.users, action.payload.user],\r\n      };\r\n\r\n    case PROFILE_TYPES.FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: EditData(state.users, action.payload._id, action.payload),\r\n      };\r\n\r\n    case PROFILE_TYPES.UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: EditData(state.users, action.payload._id, action.payload),\r\n      };\r\n\r\n    case PROFILE_TYPES.GET_ID:\r\n      return {\r\n        ...state,\r\n        ids: [...state.ids, action.payload],\r\n      };\r\n\r\n    case PROFILE_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, action.payload],\r\n      };\r\n\r\n    case PROFILE_TYPES.UPDATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: EditData(state.posts, action.payload._id, action.payload)\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\nexport default profileReducer;","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\n\r\nconst statusReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.STATUS:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default statusReducer;\r\n","import { POST_TYPES } from \"../actions/postAction\";\r\nimport { EditData, DeleteData } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    posts: [],\r\n    result: 0,\r\n    page:2,\r\n\r\n}\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case POST_TYPES.CREATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: [action.payload, ...state.posts],\r\n      };\r\n\r\n    case POST_TYPES.LOADING_POST:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case POST_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        page: action.payload.page,\r\n      };\r\n\r\n    case POST_TYPES.UPDATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: EditData(state.posts, action.payload._id, action.payload),\r\n      };\r\n\r\n    case POST_TYPES.DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: DeleteData(state.posts, action.payload._id),\r\n      };\r\n\r\n    case POST_TYPES.REPORT_POST:\r\n      return {\r\n        ...state,\r\n        posts: EditData(state.posts, action.payload._id, action.payload),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default postReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst initialState = false;\r\n\r\nconst modalReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.MODAL:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default modalReducer;\r\n","import { POST_TYPES } from \"../actions/postAction\";\r\nimport { EditData } from \"../actions/globalTypes\";\r\n\r\n\r\n\r\nconst detailPostReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case POST_TYPES.GET_POST:\r\n      return [...state, action.payload];\r\n\r\n    case POST_TYPES.UPDATE_POST:\r\n      return EditData(state, action.payload._id, action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default detailPostReducer;\r\n","import { ADMIN_TYPES } from \"../actions/adminAction\";\r\nimport { DeleteData } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {\r\n    total_users: 0,\r\n    total_posts: 0,\r\n    total_comments: 0,\r\n    total_likes: 0,\r\n    total_active_users: 0,\r\n    total_spam_posts: 0,\r\n    spam_posts : []\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADMIN_TYPES.GET_TOTAL_USERS:\r\n      return {\r\n        ...state,\r\n        total_users: action.payload.total_users,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_POSTS:\r\n      return {\r\n        ...state,\r\n        total_posts: action.payload.total_posts,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_COMMENTS:\r\n      return {\r\n        ...state,\r\n        total_comments: action.payload.total_comments,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_LIKES:\r\n      return {\r\n        ...state,\r\n        total_likes: action.payload.total_likes,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_SPAM_POSTS:\r\n      return {\r\n        ...state,\r\n        total_spam_posts: action.payload.total_spam_posts,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_ACTIVE_USERS:\r\n      return {\r\n        ...state,\r\n        total_active_users: action.payload,\r\n      };\r\n\r\n    case ADMIN_TYPES.LOADING_ADMIN:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_SPAM_POSTS:\r\n      return {\r\n        ...state,\r\n        spam_posts: [...action.payload],\r\n      };\r\n    case ADMIN_TYPES.DELETE_POST:\r\n      return {\r\n        ...state,\r\n        spam_posts: DeleteData(state.spam_posts, action.payload._id),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { DISCOVER_TYPES } from \"../actions/discoverAction\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    posts: [],\r\n    result: 9,\r\n    page: 2,\r\n    firstLoad: false,\r\n};\r\n\r\nconst discoverReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case DISCOVER_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case DISCOVER_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        firstLoad: true,\r\n      };\r\n\r\n    case DISCOVER_TYPES.UPDATE_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: [...action.payload.posts],\r\n        result: action.payload.result,\r\n        page: state.page + 1,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default discoverReducer;\r\n","import { SUGGEST_TYPES } from \"../actions/suggestionsAction\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    users: [],\r\n};\r\n\r\nconst suggestionsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SUGGEST_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case SUGGEST_TYPES.GET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.payload.users,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default suggestionsReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\n\r\n\r\nconst socketReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.SOCKET:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default socketReducer;\r\n","import { NOTIFY_TYPES } from \"../actions/notifyAction\";\r\nimport { EditData } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  sound: false,\r\n}\r\n\r\n\r\nconst authReducer = (state = initialState , action) => {\r\n  switch (action.type) {\r\n    case NOTIFY_TYPES.GET_NOTIFIES:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n      };\r\n\r\n    case NOTIFY_TYPES.CREATE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: [...state.data, action.payload],\r\n      };\r\n\r\n    case NOTIFY_TYPES.UPDATE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: EditData(state.data, action.payload._id, action.payload),\r\n      };\r\n\r\n    case NOTIFY_TYPES.UPDATE_SOUND:\r\n      return {\r\n        ...state,\r\n        sound: action.payload,\r\n      };\r\n\r\n    case NOTIFY_TYPES.REMOVE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: state.data.filter(\r\n          (item) =>\r\n            item.id !== action.payload.id || item.url !== action.payload.url\r\n        ),\r\n      };\r\n\r\n    case NOTIFY_TYPES.DELETE_ALL_NOTIFICATIONS:\r\n      return {\r\n        ...state,\r\n        data: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { MESSAGE_TYPES } from \"../actions/messageAction\";\r\n\r\nconst initialState = {\r\n    users: [],\r\n    resultUsers: 0,\r\n    data: [],\r\n    resultData: 0,\r\n    firstLoad: false \r\n};\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case MESSAGE_TYPES.ADD_USER:\r\n      return {\r\n        ...state,\r\n        users: [...state.data, action.payload],\r\n      };\r\n\r\n    case MESSAGE_TYPES.ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        data: [...state.data, action.payload],\r\n        users: state.users.map((user) =>\r\n          user._id === action.payload.recipient ||\r\n          user._id === action.payload.sender\r\n            ? {\r\n                ...user,\r\n                text: action.payload.text,\r\n                media: action.payload.media,\r\n              }\r\n            : user\r\n        ),\r\n      };\r\n\r\n    case MESSAGE_TYPES.GET_CONVERSATIONS:\r\n      return {\r\n        ...state,\r\n        users: action.payload.newArr,\r\n        resultUsers: action.payload.result,\r\n        firstLoad: true\r\n      };\r\n\r\n    case MESSAGE_TYPES.GET_MESSAGES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.messages.reverse(),\r\n        resultData: action.payload.result,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default messageReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport auth from './authReducer';\r\nimport userType from './userTypeReducer';\r\nimport alert from './alertReducer';\r\nimport theme from './themeReducer';\r\nimport profile from './profileReducer';\r\nimport status from './statusReducer';\r\nimport homePosts from './postReducer';\r\nimport modal from './modalReducer';\r\nimport detailPost from \"./detailPostReducer\";\r\nimport admin from \"./adminReducer\";\r\nimport discover from \"./discoverReducer\";\r\nimport suggestions from \"./suggestionsReducer\";\r\nimport socket from \"./socketReducer\";\r\nimport notify from \"./notifyReducer\";\r\nimport message from \"./messageReducer\";\r\n\r\nexport default combineReducers({\r\n  auth,\r\n  alert,\r\n  theme,\r\n  profile,\r\n  status,\r\n  homePosts,\r\n  modal,\r\n  detailPost,\r\n  userType,\r\n  admin,\r\n  discover,\r\n  suggestions,\r\n  socket,\r\n  notify,\r\n  message,\r\n});","import { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './reducers/index';\r\n\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nconst store = createStore( rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\n\r\nconst DataProvider = ({children}) => {\r\n    return(\r\n        <Provider store={store}>\r\n            {children}\r\n        </Provider>\r\n    )\r\n}\r\n\r\nexport default DataProvider;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/global.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport DataProvider from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <DataProvider>\r\n      <App />\r\n    </DataProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\n\r\n\r\nexport const SUGGEST_TYPES = {\r\n  LOADING: \"LOADING_SUGGESTIONS\",\r\n  GET_USERS: \"GET_USERS_SUGGESTIONS\",\r\n};\r\n\r\n\r\nexport const getSuggestions = (token) => async dispatch => {\r\n    try {\r\n        dispatch({type: SUGGEST_TYPES.LOADING, payload: true });\r\n\r\n        const res = await getDataAPI(`suggestionsUser`, token);\r\n        \r\n        dispatch({ type: SUGGEST_TYPES.GET_USERS, payload: res.data });\r\n\r\n        dispatch({type: SUGGEST_TYPES.LOADING, payload: false });\r\n        \r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} });\r\n    }\r\n}","import React from 'react'\r\n\r\nconst LoadMoreBtn = ({ result, page, load, handleLoadMore }) => {\r\n  return (\r\n    <>\r\n      {result < 9 * (page - 1)\r\n        ? \"\"\r\n        : !load && (\r\n            <button\r\n              className=\"btn  btn-outline-info color-c1 mx-auto d-block\"\r\n              onClick={handleLoadMore}\r\n            >\r\n              Load more.\r\n            </button>\r\n          )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoadMoreBtn\r\n","import { GLOBALTYPES } from './globalTypes';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\n\r\nexport const DISCOVER_TYPES = {\r\n    LOADING: 'LOADING_DISCOVER',\r\n    GET_POSTS: 'GET_DISCOVER_POSTS',\r\n    UPDATE_POSTS: 'UPDATE_DISCOVER_POSTS',\r\n\r\n}\r\n\r\nexport const getDiscoverPosts = (token) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: true });\r\n\r\n        const res = await getDataAPI(`post_discover`, token);\r\n        \r\n        dispatch({ type: DISCOVER_TYPES.GET_POSTS, payload: res.data });\r\n\r\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: false });\r\n\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} });\r\n    }\r\n} \r\n\r\n\r\n","import { GLOBALTYPES } from \"./globalTypes\";\r\nimport { postDataAPI, getDataAPI, patchDataAPI, deleteDataAPI } from \"../../utils/fetchData\";\r\nimport { imageUpload } from \"../../utils/imageUpload\";\r\nimport { createNotify, removeNotify } from \"./notifyAction\";\r\n\r\n\r\nexport const POST_TYPES = {\r\n  CREATE_POST: \"CREATE_POST\",\r\n  LOADING_POST: \"LOADING_POST\",\r\n  GET_POSTS: \"GET_POSTS\",\r\n  UPDATE_POST: \"UPDATE_POST\",\r\n  GET_POST: \"GET_POST\",\r\n  DELETE_POST: \"DELETE_POST\",\r\n  REPORT_POST: \"REPORT_POST\",\r\n  SAVE_POST: \"SAVE_POST\",\r\n};\r\n\r\nexport const createPost = ({content, images, auth, socket}) => async dispatch => {\r\n    let media = [];\r\n\r\n    try {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} });\r\n\r\n        if(images.length > 0){ media = await imageUpload(images)}\r\n\r\n        const res = await postDataAPI('posts', {content, images: media}, auth.token );\r\n\r\n        \r\n        dispatch({ type: POST_TYPES.CREATE_POST , payload: {...res.data.newPost, user: auth.user} });\r\n        \r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: false } });\r\n        \r\n\r\n        // todo notification\r\n        const msg = {\r\n          id: res.data.newPost._id,\r\n          text: \"Added a new post.\",\r\n          recipients: res.data.newPost.user.followers,\r\n          url: `/post/${res.data.newPost._id}`,\r\n          content, \r\n          image: media[0].url\r\n        };\r\n\r\n        dispatch(createNotify({msg, auth, socket}));\r\n\r\n    } catch (err) {\r\n      console.log(\"error while posting\",err)\r\n        \r\n    }\r\n}\r\n\r\n\r\nexport const getPosts = (token) => async dispatch => {\r\n    try {\r\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: true  });\r\n        const res = await getDataAPI('posts', token);\r\n        dispatch({ type: POST_TYPES.GET_POSTS, payload: {...res.data, page: 2} });\r\n\r\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: false });\r\n    } catch (err) {\r\n        \r\n      console.log(\"error while fetching  posting\",err)\r\n    }\r\n}\r\n\r\n\r\nexport const updatePost = ({ content, images, auth, status }) => async (dispatch) => {\r\n  let media = [];\r\n    const imgNewUrl = images.filter(img => !img.url);\r\n    const imgOldUrl = images.filter(img => img.url);\r\n    if(status.content === content && imgNewUrl.length === 0 && imgOldUrl.length === status.images.length){\r\n        return;\r\n    }\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    if (imgNewUrl.length > 0) {\r\n      media = await imageUpload(imgNewUrl);\r\n    }\r\n    const res = await patchDataAPI(\r\n      `post/${status._id}`,\r\n      { content, images: [...imgOldUrl, ...media] },\r\n      auth.token\r\n    );\r\n    \r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: res.data.newPost });\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const likePost = ({ post, auth, socket }) => async (dispatch) => {\r\n  const newPost = {...post, likes: [...post.likes, auth.user]};\r\n\r\n  dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost});\r\n  socket.emit(\"likePost\", newPost);\r\n  \r\n  try {\r\n    await patchDataAPI(`post/${post._id}/like`, null, auth.token);\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: \"Liked your post.\",\r\n      recipients: [post.user._id],\r\n      url: `/post/${post._id}`,\r\n      content: post.content,\r\n      image: post.images[0].url,\r\n    };\r\n\r\n    dispatch(createNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const unLikePost = ({ post, auth, socket }) => async (dispatch) => {\r\n  const newPost = { ...post, likes: post.likes.filter(like => like._id !== auth.user._id) };\r\n\r\n  dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n  socket.emit(\"unLikePost\", newPost);\r\n\r\n  \r\n  try {\r\n    await patchDataAPI(`post/${post._id}/unlike`, null, auth.token);\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: \"Liked your post.\",\r\n      recipients: [post.user._id],\r\n      url: `/post/${post._id}`, \r\n    };\r\n\r\n    dispatch(removeNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const getPost = ({ detailPost, id, auth }) => async (dispatch) => {\r\n  if(detailPost.every(post => post._id !== id )){\r\n    try {\r\n      const res = await getDataAPI(`post/${id}`, auth.token);\r\n      dispatch({ type: POST_TYPES.GET_POST, payload: res.data.post})\r\n\r\n\r\n    } catch (err) {\r\n      console.log(\"error while fetching  posting\",err)\r\n        \r\n    }\r\n  }\r\n};\r\n\r\n\r\nexport const deletePost = ({ post, auth, socket }) => async (dispatch) => {\r\n  dispatch({ type: POST_TYPES.DELETE_POST, payload: post });\r\n\r\n  try {\r\n    const res = await deleteDataAPI(`post/${post._id}`, auth.token);\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: post._id,\r\n      text: \"Added a new post.\",\r\n      recipients: res.data.newPost.user.followers,\r\n      url: `/post/${post._id}`,\r\n    };\r\n\r\n    dispatch(removeNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const reportPost = ({ post, auth }) => async (dispatch) => {\r\n\r\n  const reportExist = post.reports.find(report => report === auth.user._id);\r\n\r\n  if (reportExist && reportExist.length > 0) {\r\n    return dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"You have already reported this post.\" },\r\n    });\r\n  }\r\n    const newPost = { ...post };\r\n    newPost.reports.push(auth.user._id);\r\n\r\n  dispatch({ type: POST_TYPES.REPORT_POST, payload: newPost });\r\n  \r\n\r\ntry {\r\n  const res = await patchDataAPI(`post/${post._id}/report`, null, auth.token);\r\n  dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n} catch (err) {\r\n  dispatch({\r\n    type: GLOBALTYPES.ALERT,\r\n    payload: {\r\n      error: err.response.data.msg,\r\n    },\r\n  });\r\n}\r\n};\r\n\r\nexport const savePost = ({ post, auth }) => async (dispatch) => {\r\n  const newUser = {...auth.user, saved: [...auth.user.saved, post._id] };\r\n\r\n  dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}});\r\n\r\n\r\n  try {\r\n    await patchDataAPI(`savePost/${post._id}`, null, auth.token);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const unSavePost = ({ post, auth }) => async (dispatch) => {\r\n  const newUser = { ...auth.user, saved: auth.user.saved.filter(id => id !== post._id) };\r\n\r\n  dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n\r\n  try {\r\n    await patchDataAPI(`unSavePost/${post._id}`, null, auth.token);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { imageShow, videoShow } from \"../utils/mediaShow\";\r\n\r\nconst PostThumb = ({ posts, result }) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  if (result === 0 ){\r\n    return <h2 className=\"text-center color-c1\">No Post</h2>\r\n  }\r\n\r\n    const imageShow = (src) => {\r\n      return (\r\n        <img\r\n          src={src}\r\n          alt={src}\r\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n        />\r\n      );\r\n    };\r\n\r\n    const videoShow = (src) => {\r\n      return (\r\n        <video\r\n          controls\r\n          src={src}\r\n          alt={src}\r\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n        />\r\n      );\r\n    };\r\n    return (\r\n      <div className=\"post_thumb\">\r\n        {posts && posts?.map((post) => (\r\n          <Link to={`/post/${post._id}`} key={post._id}>\r\n            <div className=\"post_thumb_display\">\r\n              {post?.images[0]?.url?.match(/video/i)\r\n                ? videoShow(post?.images[0]?.url, theme)\r\n                : imageShow(post?.images[0]?.url, theme)\r\n              }\r\n\r\n\r\n              <div className=\"post_thumb_menu\">\r\n                <i className=\"far fa-thumbs-up\">{post.likes.length}</i>\r\n                <i className=\"far fa-comments\">{post.comments.length}</i>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default PostThumb\r\n","import React from \"react\";\r\nimport \"emoji-mart/css/emoji-mart.css\";\r\nimport { Picker } from \"emoji-mart\";\r\nconst Icons = ({ setContent, content, theme }) => {\r\n  return (\r\n    <div\r\n      className=\"nav-item dropdown\"\r\n      style={{\r\n        opacity: \"1\",\r\n        zIndex: \"10\",\r\n        filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n      }}\r\n    >\r\n      <span\r\n        className=\"nav-link position-relative px-1\"\r\n        id=\"navbarDropdown\"\r\n        role=\"button\"\r\n        data-bs-toggle=\"dropdown\"\r\n        aria-expanded=\"false\"\r\n      >\r\n        <span></span>\r\n      </span>\r\n      <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n        <Picker\r\n          theme={theme ? \"dark\" : \"light\"}\r\n          showSkinTones=\"true\"\r\n          showPreview=\"false\"\r\n          onSelect={(emoji) => setContent(content + emoji.native)}\r\n          i18n={{\r\n            search: \"Search\",\r\n            clear: \"Clear\", // Accessible label on \"clear\" button\r\n            notfound: \"No Emoji Found\",\r\n            skintext: \"Choose your default skin tone\",\r\n            categories: {\r\n              search: \"Search Results\",\r\n              recent: \"Frequently Used\",\r\n              smileys: \"Smileys & Emotion\",\r\n              people: \"People & Body\",\r\n              nature: \"Animals & Nature\",\r\n              foods: \"Food & Drink\",\r\n              activity: \"Activity\",\r\n              places: \"Travel & Places\",\r\n              objects: \"Objects\",\r\n              symbols: \"Symbols\",\r\n              flags: \"Flags\",\r\n              custom: \"Custom\",\r\n            },\r\n            categorieslabel: \"Emoji categories\", // Accessible title for the list of categories\r\n            skintones: {\r\n              1: \"Default Skin Tone\",\r\n              2: \"Light Skin Tone\",\r\n              3: \"Medium-Light Skin Tone\",\r\n              4: \"Medium Skin Tone\",\r\n              5: \"Medium-Dark Skin Tone\",\r\n              6: \"Dark Skin Tone\",\r\n            },\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Icons;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { adminLogin, login } from \"../redux/actions/authAction\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst Login = () => {\r\n  const initialState = { email: \"\", password: \"\" };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const [userType, setUserType] = useState(false);\r\n  const { email, password } = userData;\r\n\r\n  const [typePass, setTypePass] = useState(false);\r\n\r\n  const { auth } = useSelector((state) => state);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (auth.token) history.push(\"/\");\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!userType) {\r\n      dispatch(login(userData));\r\n    } else {\r\n      dispatch(adminLogin(userData));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit} className=\"inner-shadow\">\r\n        <h3 className=\"text-uppercase text-center mb-4 auth-heading \" style={{ fontFamily: 'cursive', fontSize: '20px', fontWeight: 'bold', color:'crimson'}}>\r\n          Socialgram\r\n        </h3>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n            Email address\r\n          </label>\r\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control \"\r\n              id=\"exampleInputEmail1\"\r\n              aria-describedby=\"emailHelp\"\r\n              onChange={handleChangeInput}\r\n              value={email}\r\n              name=\"email\"\r\n            />\r\n          </div>\r\n          <div id=\"emailHelp\" className=\"form-text\">\r\n            We'll never share your email with anyone else.\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n            Password\r\n          </label>\r\n          <div className=\"pass\">\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type={typePass ? \"text\" : \"password\"}\r\n                className=\"form-control\"\r\n                id=\"exampleInputPassword1\"\r\n                onChange={handleChangeInput}\r\n                value={password}\r\n                name=\"password\"\r\n              />\r\n              <small onClick={() => setTypePass(!typePass)}>\r\n                {typePass ? \"Hide\" : \"Show\"}\r\n              </small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"d-flex justify-content-evenly  mx-0 mb-4\">\r\n          <label htmlFor=\"User\">\r\n            User:\r\n            <input\r\n              type=\"radio\"\r\n              id=\"User\"\r\n              name=\"gender\"\r\n              value={userType}\r\n              defaultChecked\r\n              onClick={() => setUserType(false)}\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"Admin\">\r\n            Admin:\r\n            <input\r\n              type=\"radio\"\r\n              id=\"Admin\"\r\n              name=\"gender\"\r\n              value={userType}\r\n              onClick={() => setUserType(true)}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center\" style={{color:\"red\"}}\r\n          disabled={email && password ? false : true}\r\n        >\r\n          Login\r\n        </button>\r\n        <p className=\"my-2\">\r\n          Don't have an account?{\" \"}\r\n          <Link to=\"/register\" style={{ color: \"crimson\" }}>\r\n            Register Now.\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}