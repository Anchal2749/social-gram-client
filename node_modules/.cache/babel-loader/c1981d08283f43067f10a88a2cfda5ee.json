{"ast":null,"code":"import{uploadOnCloudinary}from\"./upoader\";export const checkImage=file=>{let err=\"\";if(!file){return err=\"File does not exist.\";}//?1 mb\nif(file.size>1024*1024){return err=\"File size must be less than 1 Mb.\";}if(file.type!=='image/jpeg'&&file.type!=='image/png'){return err=\"Image must be jpeg or png.\";}return err;};export const imageUpload=async images=>{let imgArr=[];for(const item of images){const formData=new FormData();if(item.camera){formData.append(\"file\",item.camera);}else{formData.append(\"file\",item);}console.log(item);formData.append(\"upload_preset\",\"anchal\");formData.append(\"cloud_name\",\"djihupfak\");const res=await fetch(\"https://api.cloudinary.com/v1_1/djihupfak/image/upload\",{method:\"POST\",body:formData});const data=await res.json();console.log(data);imgArr.push({public_id:data.public_id,url:data.secure_url});}return imgArr;};","map":{"version":3,"names":["uploadOnCloudinary","checkImage","file","err","size","type","imageUpload","images","imgArr","item","formData","FormData","camera","append","console","log","res","fetch","method","body","data","json","push","public_id","url","secure_url"],"sources":["C:/Users/ANCHAL MAURYA/Desktop/mern-social-media/client/src/utils/imageUpload.js"],"sourcesContent":["import { uploadOnCloudinary } from \"./upoader\";\r\n\r\nexport const checkImage = (file) => {\r\n    let err = \"\";\r\n    if(!file){\r\n        return err = \"File does not exist.\";\r\n    }\r\n//?1 mb\r\n    if(file.size > 1024 * 1024){\r\n         return (err = \"File size must be less than 1 Mb.\");\r\n    }\r\n\r\n    if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\r\n      return (err = \"Image must be jpeg or png.\");\r\n    }\r\n\r\n    return err;\r\n}\r\n\r\nexport const imageUpload = async (images) => {\r\n    let imgArr = [];\r\n    for(const item of images){\r\n        const formData = new FormData();\r\n     \r\n        if(item.camera){\r\n         \r\n            formData.append(\"file\", item.camera);\r\n        }else{\r\n            \r\n\r\n            formData.append(\"file\", item);  \r\n        }\r\n        console.log(item)\r\n\r\n        \r\n        formData.append(\"upload_preset\", \"anchal\");\r\n        formData.append(\"cloud_name\", \"djihupfak\");\r\n\r\n        const res = await fetch(\"https://api.cloudinary.com/v1_1/djihupfak/image/upload\", {\r\n            method: \"POST\",\r\n            body: formData\r\n        })\r\n\r\n        const data = await res.json();\r\n        console.log(data);\r\n        imgArr.push({ public_id: data.public_id, url: data.secure_url });\r\n        \r\n      \r\n    }\r\n    return imgArr;\r\n}"],"mappings":"AAAA,OAASA,kBAAkB,KAAQ,WAAW,CAE9C,MAAO,MAAM,CAAAC,UAAU,CAAIC,IAAI,EAAK,CAChC,GAAI,CAAAC,GAAG,CAAG,EAAE,CACZ,GAAG,CAACD,IAAI,CAAC,CACL,MAAO,CAAAC,GAAG,CAAG,sBAAsB,CACvC,CACJ;AACI,GAAGD,IAAI,CAACE,IAAI,CAAG,IAAI,CAAG,IAAI,CAAC,CACtB,MAAQ,CAAAD,GAAG,CAAG,mCAAmC,CACtD,CAEA,GAAID,IAAI,CAACG,IAAI,GAAK,YAAY,EAAIH,IAAI,CAACG,IAAI,GAAK,WAAW,CAAE,CAC3D,MAAQ,CAAAF,GAAG,CAAG,4BAA4B,CAC5C,CAEA,MAAO,CAAAA,GAAG,CACd,CAAC,CAED,MAAO,MAAM,CAAAG,WAAW,CAAG,KAAO,CAAAC,MAAM,EAAK,CACzC,GAAI,CAAAC,MAAM,CAAG,EAAE,CACf,IAAI,KAAM,CAAAC,IAAI,GAAI,CAAAF,MAAM,CAAC,CACrB,KAAM,CAAAG,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAE/B,GAAGF,IAAI,CAACG,MAAM,CAAC,CAEXF,QAAQ,CAACG,MAAM,CAAC,MAAM,CAAEJ,IAAI,CAACG,MAAM,CAAC,CACxC,CAAC,IAAI,CAGDF,QAAQ,CAACG,MAAM,CAAC,MAAM,CAAEJ,IAAI,CAAC,CACjC,CACAK,OAAO,CAACC,GAAG,CAACN,IAAI,CAAC,CAGjBC,QAAQ,CAACG,MAAM,CAAC,eAAe,CAAE,QAAQ,CAAC,CAC1CH,QAAQ,CAACG,MAAM,CAAC,YAAY,CAAE,WAAW,CAAC,CAE1C,KAAM,CAAAG,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,wDAAwD,CAAE,CAC9EC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAET,QACV,CAAC,CAAC,CAEF,KAAM,CAAAU,IAAI,CAAG,KAAM,CAAAJ,GAAG,CAACK,IAAI,CAAC,CAAC,CAC7BP,OAAO,CAACC,GAAG,CAACK,IAAI,CAAC,CACjBZ,MAAM,CAACc,IAAI,CAAC,CAAEC,SAAS,CAAEH,IAAI,CAACG,SAAS,CAAEC,GAAG,CAAEJ,IAAI,CAACK,UAAW,CAAC,CAAC,CAGpE,CACA,MAAO,CAAAjB,MAAM,CACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}