{"ast":null,"code":"import React,{useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import PostCard from\"../PostCard\";import LoadIcon from\"../../images/loading.gif\";import LoadMoreBtn from\"../LoadMoreBtn\";import{getDataAPI}from\"../../utils/fetchData\";import{POST_TYPES}from\"../../redux/actions/postAction\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Posts=()=>{const{homePosts,auth,theme}=useSelector(state=>state);const dispatch=useDispatch();const[load,setLoad]=useState(false);const handleLoadMore=async()=>{setLoad(true);const res=await getDataAPI(`posts?limit=${homePosts.page*9}`,auth.token);dispatch({type:POST_TYPES.GET_POSTS,payload:{...res.data,page:homePosts.page+1}});setLoad(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"posts\",children:[homePosts.posts.map(post=>/*#__PURE__*/_jsx(PostCard,{post:post,theme:theme},post._id)),load&&/*#__PURE__*/_jsx(\"img\",{src:LoadIcon,alt:\"Loading...\",className:\"d-block mx-auto\"}),/*#__PURE__*/_jsx(LoadMoreBtn,{result:homePosts.result,page:homePosts.page,load:load,handleLoadMore:handleLoadMore})]});};export default Posts;","map":{"version":3,"names":["React","useState","useSelector","useDispatch","PostCard","LoadIcon","LoadMoreBtn","getDataAPI","POST_TYPES","jsx","_jsx","jsxs","_jsxs","Posts","homePosts","auth","theme","state","dispatch","load","setLoad","handleLoadMore","res","page","token","type","GET_POSTS","payload","data","className","children","posts","map","post","_id","src","alt","result"],"sources":["C:/Users/ANCHAL MAURYA/Desktop/mern-social-media/client/src/components/home/Posts.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport PostCard from \"../PostCard\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport LoadMoreBtn from \"../LoadMoreBtn\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { POST_TYPES } from \"../../redux/actions/postAction\";\r\n\r\nconst Posts = () => {\r\n  const { homePosts, auth, theme } = useSelector((state) => state);\r\n  const dispatch =  useDispatch();\r\n\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`posts?limit=${homePosts.page * 9}`, auth.token);\r\n    dispatch({ type: POST_TYPES.GET_POSTS, payload: {...res.data, page: homePosts.page + 1 } });\r\n    setLoad(false);\r\n  };\r\n  return (\r\n    <div className=\"posts\">\r\n      {homePosts.posts.map((post) => (\r\n        <PostCard key={post._id} post={post} theme={theme} />\r\n      ))}\r\n\r\n      {load && (\r\n        <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\r\n      )}\r\n\r\n      <LoadMoreBtn\r\n        result={homePosts.result}\r\n        page={homePosts.page}\r\n        load={load}\r\n        handleLoadMore={handleLoadMore}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,QAAQ,KAAM,aAAa,CAClC,MAAO,CAAAC,QAAQ,KAAM,0BAA0B,CAC/C,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CACxC,OAASC,UAAU,KAAQ,uBAAuB,CAClD,OAASC,UAAU,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5D,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAAEC,SAAS,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGd,WAAW,CAAEe,KAAK,EAAKA,KAAK,CAAC,CAChE,KAAM,CAAAC,QAAQ,CAAIf,WAAW,CAAC,CAAC,CAE/B,KAAM,CAACgB,IAAI,CAAEC,OAAO,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAEvC,KAAM,CAAAoB,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjCD,OAAO,CAAC,IAAI,CAAC,CACb,KAAM,CAAAE,GAAG,CAAG,KAAM,CAAAf,UAAU,CAAC,eAAeO,SAAS,CAACS,IAAI,CAAG,CAAC,EAAE,CAAER,IAAI,CAACS,KAAK,CAAC,CAC7EN,QAAQ,CAAC,CAAEO,IAAI,CAAEjB,UAAU,CAACkB,SAAS,CAAEC,OAAO,CAAE,CAAC,GAAGL,GAAG,CAACM,IAAI,CAAEL,IAAI,CAAET,SAAS,CAACS,IAAI,CAAG,CAAE,CAAE,CAAC,CAAC,CAC3FH,OAAO,CAAC,KAAK,CAAC,CAChB,CAAC,CACD,mBACER,KAAA,QAAKiB,SAAS,CAAC,OAAO,CAAAC,QAAA,EACnBhB,SAAS,CAACiB,KAAK,CAACC,GAAG,CAAEC,IAAI,eACxBvB,IAAA,CAACN,QAAQ,EAAgB6B,IAAI,CAAEA,IAAK,CAACjB,KAAK,CAAEA,KAAM,EAAnCiB,IAAI,CAACC,GAAgC,CACrD,CAAC,CAEDf,IAAI,eACHT,IAAA,QAAKyB,GAAG,CAAE9B,QAAS,CAAC+B,GAAG,CAAC,YAAY,CAACP,SAAS,CAAC,iBAAiB,CAAE,CACnE,cAEDnB,IAAA,CAACJ,WAAW,EACV+B,MAAM,CAAEvB,SAAS,CAACuB,MAAO,CACzBd,IAAI,CAAET,SAAS,CAACS,IAAK,CACrBJ,IAAI,CAAEA,IAAK,CACXE,cAAc,CAAEA,cAAe,CAChC,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAR,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}