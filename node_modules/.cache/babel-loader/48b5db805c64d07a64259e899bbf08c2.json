{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import Info from'../../components/profile/Info';import Posts from'../../components/profile/Posts';import{useSelector,useDispatch}from\"react-redux\";import LoadIcon from\"../../images/loading.gif\";import{getProfileUsers}from\"../../redux/actions/profileAction\";import Saved from'../../components/profile/Saved';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Profile=()=>{const{profile,auth}=useSelector(state=>state);const dispatch=useDispatch();const{id}=useParams();const[saveTab,setSaveTab]=useState(false);useEffect(()=>{if(profile.ids.every(item=>item!==id)){dispatch(getProfileUsers({id,auth}));}},[id,auth,dispatch,profile.ids]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsx(Info,{auth:auth,profile:profile,dispatch:dispatch,id:id}),auth.user._id===id&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile_tab\",children:[/*#__PURE__*/_jsx(\"button\",{className:saveTab?\"\":\"active\",onClick:()=>setSaveTab(false),children:\"posts\"}),/*#__PURE__*/_jsx(\"button\",{className:saveTab?\"active\":\"\",onClick:()=>setSaveTab(true),children:\"saved\"})]}),profile.loading?/*#__PURE__*/_jsx(\"img\",{className:\"d-block mx-auto my-4\",src:LoadIcon,alt:\"Loading\"}):/*#__PURE__*/_jsx(_Fragment,{children:saveTab?/*#__PURE__*/_jsx(Saved,{auth:auth,dispatch:dispatch}):/*#__PURE__*/_jsx(Posts,{auth:auth,profile:profile,dispatch:dispatch,id:id})})]});};export default Profile;","map":{"version":3,"names":["React","useEffect","useState","useParams","Info","Posts","useSelector","useDispatch","LoadIcon","getProfileUsers","Saved","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","profile","auth","state","dispatch","id","saveTab","setSaveTab","ids","every","item","className","children","user","_id","onClick","loading","src","alt"],"sources":["C:/Users/ANCHAL MAURYA/Desktop/mern-social-media/client/src/pages/profile/[id].js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Info from '../../components/profile/Info';\r\nimport Posts from '../../components/profile/Posts';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport LoadIcon  from \"../../images/loading.gif\";\r\nimport { getProfileUsers } from \"../../redux/actions/profileAction\";\r\nimport Saved from '../../components/profile/Saved';\r\n\r\nconst Profile = () => {\r\n  const { profile, auth } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const { id } = useParams();\r\n  const [saveTab, setSaveTab] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if(profile.ids.every(item => item !== id )){\r\n      dispatch(getProfileUsers({ id, auth }));\r\n\r\n    }\r\n  }, [id, auth, dispatch, profile.ids]);\r\n\r\n    return (\r\n      <div className=\"profile\">\r\n        <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n\r\n        {auth.user._id === id && (\r\n          <div className=\"profile_tab\">\r\n            <button\r\n              className={saveTab ? \"\" : \"active\"}\r\n              onClick={() => setSaveTab(false)}\r\n            >\r\n              posts\r\n            </button>\r\n            <button\r\n              className={saveTab ? \"active\" : \"\"}\r\n              onClick={() => setSaveTab(true)}\r\n            >\r\n              saved\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {profile.loading ? (\r\n          <img className=\"d-block mx-auto my-4\" src={LoadIcon} alt=\"Loading\" />\r\n        ) : (\r\n          <>\r\n            {\r\n              saveTab\r\n              ? <Saved auth={auth} dispatch={dispatch}  />\r\n              : <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n            }\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,IAAI,KAAM,+BAA+B,CAChD,MAAO,CAAAC,KAAK,KAAM,gCAAgC,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,QAAQ,KAAO,0BAA0B,CAChD,OAASC,eAAe,KAAQ,mCAAmC,CACnE,MAAO,CAAAC,KAAK,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEnD,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAEC,OAAO,CAAEC,IAAK,CAAC,CAAGb,WAAW,CAACc,KAAK,EAAIA,KAAK,CAAC,CACrD,KAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAEe,EAAG,CAAC,CAAGnB,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACoB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAE7CD,SAAS,CAAC,IAAM,CACd,GAAGiB,OAAO,CAACO,GAAG,CAACC,KAAK,CAACC,IAAI,EAAIA,IAAI,GAAKL,EAAG,CAAC,CAAC,CACzCD,QAAQ,CAACZ,eAAe,CAAC,CAAEa,EAAE,CAAEH,IAAK,CAAC,CAAC,CAAC,CAEzC,CACF,CAAC,CAAE,CAACG,EAAE,CAAEH,IAAI,CAAEE,QAAQ,CAAEH,OAAO,CAACO,GAAG,CAAC,CAAC,CAEnC,mBACEX,KAAA,QAAKc,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBjB,IAAA,CAACR,IAAI,EAACe,IAAI,CAAEA,IAAK,CAACD,OAAO,CAAEA,OAAQ,CAACG,QAAQ,CAAEA,QAAS,CAACC,EAAE,CAAEA,EAAG,CAAE,CAAC,CAEjEH,IAAI,CAACW,IAAI,CAACC,GAAG,GAAKT,EAAE,eACnBR,KAAA,QAAKc,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjB,IAAA,WACEgB,SAAS,CAAEL,OAAO,CAAG,EAAE,CAAG,QAAS,CACnCS,OAAO,CAAEA,CAAA,GAAMR,UAAU,CAAC,KAAK,CAAE,CAAAK,QAAA,CAClC,OAED,CAAQ,CAAC,cACTjB,IAAA,WACEgB,SAAS,CAAEL,OAAO,CAAG,QAAQ,CAAG,EAAG,CACnCS,OAAO,CAAEA,CAAA,GAAMR,UAAU,CAAC,IAAI,CAAE,CAAAK,QAAA,CACjC,OAED,CAAQ,CAAC,EACN,CACN,CAEAX,OAAO,CAACe,OAAO,cACdrB,IAAA,QAAKgB,SAAS,CAAC,sBAAsB,CAACM,GAAG,CAAE1B,QAAS,CAAC2B,GAAG,CAAC,SAAS,CAAE,CAAC,cAErEvB,IAAA,CAAAI,SAAA,EAAAa,QAAA,CAEIN,OAAO,cACLX,IAAA,CAACF,KAAK,EAACS,IAAI,CAAEA,IAAK,CAACE,QAAQ,CAAEA,QAAS,CAAG,CAAC,cAC1CT,IAAA,CAACP,KAAK,EAACc,IAAI,CAAEA,IAAK,CAACD,OAAO,CAAEA,OAAQ,CAACG,QAAQ,CAAEA,QAAS,CAACC,EAAE,CAAEA,EAAG,CAAE,CAAC,CAEvE,CACH,EACE,CAAC,CAEZ,CAAC,CAED,cAAe,CAAAL,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}