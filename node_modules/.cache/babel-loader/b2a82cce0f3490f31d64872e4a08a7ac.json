{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from\"react-router-dom\";import LikeButton from'../../LikeButton';import{useSelector,useDispatch}from\"react-redux\";import{likePost,savePost,unLikePost,unSavePost}from\"../../../redux/actions/postAction\";import ShareModal from'../../ShareModal';// import { BASE_URL } from '../../../utils/config';\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CardFooter=_ref=>{let{post}=_ref;const[isLike,setIsLike]=useState(false);const[saved,setSaved]=useState(false);const[loadLike,setLoadLike]=useState(false);const[saveLoad,setSaveLoad]=useState(false);const[isShare,setIsShare]=useState(false);const dispatch=useDispatch();const{auth,theme,socket}=useSelector(state=>state);useEffect(()=>{if(post.likes.find(like=>like._id===auth.user._id)){setIsLike(true);}else{setIsLike(false);}},[post.likes,auth.user._id]);const handleLike=async()=>{if(loadLike)return;setLoadLike(true);await dispatch(likePost({post,auth,socket}));setLoadLike(false);};const handleUnLike=async()=>{if(loadLike)return;setLoadLike(true);await dispatch(unLikePost({post,auth,socket}));setLoadLike(false);};const handleSavePost=async()=>{if(saveLoad)return;setSaveLoad(true);await dispatch(savePost({post,auth}));setSaveLoad(false);};const handleUnSavePost=async()=>{if(saveLoad)return;setSaveLoad(true);await dispatch(unSavePost({post,auth}));setSaveLoad(false);};useEffect(()=>{if(auth.user.saved.find(id=>id===post._id)){setSaved(true);}else{setSaved(false);}},[post._id,auth.user.saved]);return/*#__PURE__*/_jsxs(\"div\",{className:\"card_footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card_icon_menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(LikeButton,{isLike:isLike,handleLike:handleLike,handleUnLike:handleUnLike}),/*#__PURE__*/_jsx(Link,{to:`/post/${post._id}`,className:\"text-dark\",children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-comments\"})}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-share\",alt:\"Send\",onClick:()=>setIsShare(!isShare)})]}),saved?/*#__PURE__*/_jsx(\"i\",{className:\"fas text-info fa-bookmark\",onClick:handleUnSavePost}):/*#__PURE__*/_jsx(\"i\",{className:\"far fa-bookmark\",onClick:handleSavePost})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-start\",children:[/*#__PURE__*/_jsxs(\"h6\",{style:{padding:\"0 25px\",cursor:\"pointer\"},children:[post.likes.length,\" likes\"]}),/*#__PURE__*/_jsxs(\"h6\",{style:{padding:\"0 25px\",cursor:\"pointer\"},children:[post.comments.length,\" comments\"]})]}),isShare&&/*#__PURE__*/_jsx(ShareModal// url={`${BASE_URL}/post/${post._id}`}\n,{url:\"http://google.com\",theme:theme,setIsShare:setIsShare})]});};export default CardFooter;","map":{"version":3,"names":["React","useState","useEffect","Link","LikeButton","useSelector","useDispatch","likePost","savePost","unLikePost","unSavePost","ShareModal","jsx","_jsx","jsxs","_jsxs","CardFooter","_ref","post","isLike","setIsLike","saved","setSaved","loadLike","setLoadLike","saveLoad","setSaveLoad","isShare","setIsShare","dispatch","auth","theme","socket","state","likes","find","like","_id","user","handleLike","handleUnLike","handleSavePost","handleUnSavePost","id","className","children","to","alt","onClick","style","padding","cursor","length","comments","url"],"sources":["C:/Users/ANCHAL MAURYA/Desktop/mern-social-media/client/src/components/home/post_card/CardFooter.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport LikeButton from '../../LikeButton';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { likePost, savePost, unLikePost, unSavePost } from \"../../../redux/actions/postAction\";\r\nimport ShareModal from '../../ShareModal';\r\n// import { BASE_URL } from '../../../utils/config';\r\n\r\n\r\nconst CardFooter = ({post}) => {\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [saved, setSaved] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n  const [saveLoad, setSaveLoad] = useState(false);\r\n  const [isShare, setIsShare] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const { auth, theme, socket } = useSelector((state) => state);\r\n\r\n  useEffect(() => {\r\n    if (post.likes.find((like) => like._id === auth.user._id)) {\r\n      setIsLike(true);\r\n    }else{\r\n      setIsLike(false);\r\n    }\r\n  }, [post.likes, auth.user._id]);\r\n\r\n  const handleLike = async () => {\r\n    if(loadLike) return;\r\n    setLoadLike(true);\r\n    await dispatch( likePost({post, auth, socket}) );\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleUnLike = async () => {\r\n    if(loadLike) return;\r\n    setLoadLike(true);\r\n    await dispatch( unLikePost({post, auth, socket}) );\r\n    setLoadLike(false);\r\n  };\r\n\r\n    const handleSavePost = async () => {\r\n      if (saveLoad) return;\r\n      setSaveLoad(true);\r\n      await dispatch(savePost({ post, auth }));\r\n      setSaveLoad(false);\r\n    };\r\n\r\n    const handleUnSavePost = async () => {\r\n      if (saveLoad) return;\r\n      setSaveLoad(true);\r\n      await dispatch(unSavePost({ post, auth }));\r\n      setSaveLoad(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (auth.user.saved.find(id => id === post._id)) {\r\n        setSaved(true);\r\n      } else {\r\n        setSaved(false);\r\n      }\r\n    }, [post._id, auth.user.saved]);\r\n\r\n    return (\r\n      <div className=\"card_footer\">\r\n        <div className=\"card_icon_menu\">\r\n          <div className=\"d-flex\">\r\n            <LikeButton\r\n              isLike={isLike}\r\n              handleLike={handleLike}\r\n              handleUnLike={handleUnLike}\r\n            />\r\n            <Link to={`/post/${post._id}`} className=\"text-dark\">\r\n              <i className=\"far fa-comments\" />\r\n            </Link>\r\n            <i\r\n              className=\"fa fa-share\"\r\n              alt=\"Send\"\r\n              onClick={() => setIsShare(!isShare)}\r\n            />\r\n          </div>\r\n          {saved ? (\r\n            <i\r\n              className=\"fas text-info fa-bookmark\"\r\n              onClick={handleUnSavePost}\r\n            />\r\n          ) : (\r\n            <i\r\n              className=\"far fa-bookmark\"\r\n              onClick={handleSavePost}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"d-flex justify-content-start\">\r\n          <h6 style={{ padding: \"0 25px\", cursor: \"pointer\" }}>\r\n            {post.likes.length} likes\r\n          </h6>\r\n          <h6 style={{ padding: \"0 25px\", cursor: \"pointer\" }}>\r\n            {post.comments.length} comments\r\n          </h6>\r\n        </div>\r\n\r\n        {isShare && (\r\n          <ShareModal\r\n            // url={`${BASE_URL}/post/${post._id}`}\r\n            url=\"http://google.com\"\r\n            theme={theme}\r\n            setIsShare={setIsShare}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default CardFooter\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}