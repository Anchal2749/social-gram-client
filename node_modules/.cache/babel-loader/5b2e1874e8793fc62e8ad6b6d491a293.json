{"ast":null,"code":"import React,{useState,useEffect}from'react';import CommentDisplay from'./comments/CommentDisplay';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Comments=_ref=>{let{post}=_ref;const[comments,setComments]=useState([]);const[showComments,setShowComments]=useState([]);const[next,setNext]=useState(2);const[replyComments,setReplyComments]=useState([]);useEffect(()=>{const newCm=post.comments.filter(cm=>!cm.reply);setComments(newCm);setShowComments(newCm.slice(newCm.length-next));},[post.comments,next]);useEffect(()=>{const newReply=post.comments.filter(cm=>cm.reply);setReplyComments(newReply);},[post.comments]);return/*#__PURE__*/_jsxs(\"div\",{className:\"comments\",children:[showComments.map((comment,index)=>/*#__PURE__*/_jsx(CommentDisplay,{comment:comment,post:post,replyCm:replyComments.filter(item=>item.reply===comment._id)},index)),comments.length-next>0?/*#__PURE__*/_jsx(\"div\",{onClick:()=>setNext(next+10),className:\"p-2 border-top\",style:{cursor:\"pointer\",color:\"crimson\"},children:\"Load more...\"}):comments.length>2&&/*#__PURE__*/_jsx(\"div\",{onClick:()=>setNext(2),className:\"p-2 border-top\",style:{cursor:\"pointer\",color:\"crimson\"},children:\"Hide...\"})]});};export default Comments;","map":{"version":3,"names":["React","useState","useEffect","CommentDisplay","jsx","_jsx","jsxs","_jsxs","Comments","_ref","post","comments","setComments","showComments","setShowComments","next","setNext","replyComments","setReplyComments","newCm","filter","cm","reply","slice","length","newReply","className","children","map","comment","index","replyCm","item","_id","onClick","style","cursor","color"],"sources":["C:/Users/ANCHAL MAURYA/Desktop/mern-social-media/client/src/components/home/Comments.js"],"sourcesContent":["import React, { useState, useEffect} from 'react'\r\nimport CommentDisplay from './comments/CommentDisplay'\r\n\r\nconst Comments = ({post}) => {\r\n  const [comments, setComments] = useState([]);\r\n  const [showComments, setShowComments] = useState([]);\r\n  const [next, setNext] = useState(2);\r\n  const [replyComments, setReplyComments] = useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n    const newCm = post.comments.filter((cm) => !cm.reply);\r\n    setComments(newCm);\r\n    setShowComments(newCm.slice(newCm.length - next));\r\n  }, [post.comments, next]);\r\n\r\n  useEffect(() => {\r\n    const newReply = post.comments.filter((cm) => cm.reply);\r\n    setReplyComments(newReply);\r\n  }, [post.comments]);\r\n\r\n    return (\r\n      <div className=\"comments\">\r\n        {showComments.map((comment, index) => (\r\n          <CommentDisplay\r\n            key={index}\r\n            comment={comment}\r\n            post={post}\r\n            replyCm={replyComments.filter((item) => item.reply === comment._id)}\r\n          />\r\n        ))}\r\n        {comments.length - next > 0 ? (\r\n          <div\r\n            onClick={() => setNext(next + 10)}\r\n            className=\"p-2 border-top\"\r\n            style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n          >\r\n            Load more...\r\n          </div>\r\n        ) : (\r\n          comments.length > 2 && (\r\n            <div\r\n              onClick={() => setNext(2)}\r\n              className=\"p-2 border-top\"\r\n              style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n            >\r\n              Hide...\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Comments\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CACjD,MAAO,CAAAC,cAAc,KAAM,2BAA2B,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtD,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAY,IAAX,CAACC,IAAI,CAAC,CAAAD,IAAA,CACtB,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,YAAY,CAAEC,eAAe,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACc,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAACgB,aAAa,CAAEC,gBAAgB,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAGtDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,KAAK,CAAGT,IAAI,CAACC,QAAQ,CAACS,MAAM,CAAEC,EAAE,EAAK,CAACA,EAAE,CAACC,KAAK,CAAC,CACrDV,WAAW,CAACO,KAAK,CAAC,CAClBL,eAAe,CAACK,KAAK,CAACI,KAAK,CAACJ,KAAK,CAACK,MAAM,CAAGT,IAAI,CAAC,CAAC,CACnD,CAAC,CAAE,CAACL,IAAI,CAACC,QAAQ,CAAEI,IAAI,CAAC,CAAC,CAEzBb,SAAS,CAAC,IAAM,CACd,KAAM,CAAAuB,QAAQ,CAAGf,IAAI,CAACC,QAAQ,CAACS,MAAM,CAAEC,EAAE,EAAKA,EAAE,CAACC,KAAK,CAAC,CACvDJ,gBAAgB,CAACO,QAAQ,CAAC,CAC5B,CAAC,CAAE,CAACf,IAAI,CAACC,QAAQ,CAAC,CAAC,CAEjB,mBACEJ,KAAA,QAAKmB,SAAS,CAAC,UAAU,CAAAC,QAAA,EACtBd,YAAY,CAACe,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,gBAC/BzB,IAAA,CAACF,cAAc,EAEb0B,OAAO,CAAEA,OAAQ,CACjBnB,IAAI,CAAEA,IAAK,CACXqB,OAAO,CAAEd,aAAa,CAACG,MAAM,CAAEY,IAAI,EAAKA,IAAI,CAACV,KAAK,GAAKO,OAAO,CAACI,GAAG,CAAE,EAH/DH,KAIN,CACF,CAAC,CACDnB,QAAQ,CAACa,MAAM,CAAGT,IAAI,CAAG,CAAC,cACzBV,IAAA,QACE6B,OAAO,CAAEA,CAAA,GAAMlB,OAAO,CAACD,IAAI,CAAG,EAAE,CAAE,CAClCW,SAAS,CAAC,gBAAgB,CAC1BS,KAAK,CAAE,CAAEC,MAAM,CAAE,SAAS,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAV,QAAA,CAChD,cAED,CAAK,CAAC,CAENhB,QAAQ,CAACa,MAAM,CAAG,CAAC,eACjBnB,IAAA,QACE6B,OAAO,CAAEA,CAAA,GAAMlB,OAAO,CAAC,CAAC,CAAE,CAC1BU,SAAS,CAAC,gBAAgB,CAC1BS,KAAK,CAAE,CAAEC,MAAM,CAAE,SAAS,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAV,QAAA,CAChD,SAED,CAAK,CAER,EACE,CAAC,CAEZ,CAAC,CAED,cAAe,CAAAnB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}