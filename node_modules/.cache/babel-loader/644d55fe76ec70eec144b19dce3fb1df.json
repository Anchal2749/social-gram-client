{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import PostThumb from\"../PostThumb\";import LoadIcon from\"../../images/loading.gif\";import LoadMoreBtn from\"../LoadMoreBtn\";import{getDataAPI}from\"../../utils/fetchData\";import{GLOBALTYPES}from\"../../redux/actions/globalTypes\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Saved=_ref=>{let{auth,dispatch}=_ref;const[savePosts,setSavePosts]=useState([]);const[result,setResult]=useState(9);const[page,setPage]=useState(2);const[load,setLoad]=useState(false);useEffect(()=>{setLoad(true);getDataAPI(`getSavePosts`,auth.token).then(res=>{setSavePosts(res.data.savePosts);setResult(res.data.result);setLoad(false);}).catch(err=>{dispatch({type:GLOBALTYPES.ALERT,payload:{error:err.response.data.msg}});});return()=>setSavePosts([]);},[dispatch,auth.token]);const handleLoadMore=async()=>{setLoad(true);const res=await getDataAPI(`getSavePosts?limit=${page*9}`,auth.token);setSavePosts(res.data.savePosts);setResult(res.data.result);setPage(page+1);setLoad(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PostThumb,{posts:savePosts,result:result}),load&&/*#__PURE__*/_jsx(\"img\",{src:LoadIcon,alt:\"Loading...\",className:\"d-block mx-auto\"}),/*#__PURE__*/_jsx(LoadMoreBtn,{result:result,page:page,load:load,handleLoadMore:handleLoadMore})]});};export default Saved;","map":{"version":3,"names":["React","useState","useEffect","PostThumb","LoadIcon","LoadMoreBtn","getDataAPI","GLOBALTYPES","jsx","_jsx","jsxs","_jsxs","Saved","_ref","auth","dispatch","savePosts","setSavePosts","result","setResult","page","setPage","load","setLoad","token","then","res","data","catch","err","type","ALERT","payload","error","response","msg","handleLoadMore","children","posts","src","alt","className"],"sources":["C:/Users/ANCHAL MAURYA/Desktop/mern-social-media/client/src/components/profile/Saved.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport PostThumb from \"../PostThumb\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport LoadMoreBtn from \"../LoadMoreBtn\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\n\r\nconst Saved = ({ auth, dispatch }) => {\r\n  const [savePosts, setSavePosts] = useState([]);\r\n  const [result, setResult] = useState(9);\r\n  const [page, setPage] = useState(2);\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoad(true);\r\n    getDataAPI(`getSavePosts`, auth.token)\r\n    .then(res => { \r\n        setSavePosts(res.data.savePosts) \r\n        setResult(res.data.result)\r\n        setLoad(false)\r\n    })  \r\n    .catch(err => {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    })\r\n\r\n    return () => setSavePosts([]);\r\n  }, [dispatch, auth.token]);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token);\r\n    setSavePosts(res.data.savePosts);\r\n    setResult(res.data.result);\r\n    setPage(page + 1);\r\n    setLoad(false);\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <PostThumb posts={savePosts} result={result} />\r\n\r\n      {load && (\r\n        <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\r\n      )}\r\n\r\n      <LoadMoreBtn\r\n        result={result}\r\n        page={page}\r\n        load={load}\r\n        handleLoadMore={handleLoadMore}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Saved;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,cAAc,CACpC,MAAO,CAAAC,QAAQ,KAAM,0BAA0B,CAC/C,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CACxC,OAASC,UAAU,KAAQ,uBAAuB,CAClD,OAASC,WAAW,KAAQ,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9D,KAAM,CAAAC,KAAK,CAAGC,IAAA,EAAwB,IAAvB,CAAEC,IAAI,CAAEC,QAAS,CAAC,CAAAF,IAAA,CAC/B,KAAM,CAACG,SAAS,CAAEC,YAAY,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACiB,MAAM,CAAEC,SAAS,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CACvC,KAAM,CAACmB,IAAI,CAAEC,OAAO,CAAC,CAAGpB,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAACqB,IAAI,CAAEC,OAAO,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAEvCC,SAAS,CAAC,IAAM,CACdqB,OAAO,CAAC,IAAI,CAAC,CACbjB,UAAU,CAAC,cAAc,CAAEQ,IAAI,CAACU,KAAK,CAAC,CACrCC,IAAI,CAACC,GAAG,EAAI,CACTT,YAAY,CAACS,GAAG,CAACC,IAAI,CAACX,SAAS,CAAC,CAChCG,SAAS,CAACO,GAAG,CAACC,IAAI,CAACT,MAAM,CAAC,CAC1BK,OAAO,CAAC,KAAK,CAAC,CAClB,CAAC,CAAC,CACDK,KAAK,CAACC,GAAG,EAAI,CACVd,QAAQ,CAAC,CAACe,IAAI,CAAEvB,WAAW,CAACwB,KAAK,CAAEC,OAAO,CAAE,CAACC,KAAK,CAAEJ,GAAG,CAACK,QAAQ,CAACP,IAAI,CAACQ,GAAG,CAAC,CAAC,CAAC,CAChF,CAAC,CAAC,CAEF,MAAO,IAAMlB,YAAY,CAAC,EAAE,CAAC,CAC/B,CAAC,CAAE,CAACF,QAAQ,CAAED,IAAI,CAACU,KAAK,CAAC,CAAC,CAE1B,KAAM,CAAAY,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjCb,OAAO,CAAC,IAAI,CAAC,CACb,KAAM,CAAAG,GAAG,CAAG,KAAM,CAAApB,UAAU,CAAC,sBAAsBc,IAAI,CAAG,CAAC,EAAE,CAAEN,IAAI,CAACU,KAAK,CAAC,CAC1EP,YAAY,CAACS,GAAG,CAACC,IAAI,CAACX,SAAS,CAAC,CAChCG,SAAS,CAACO,GAAG,CAACC,IAAI,CAACT,MAAM,CAAC,CAC1BG,OAAO,CAACD,IAAI,CAAG,CAAC,CAAC,CACjBG,OAAO,CAAC,KAAK,CAAC,CAChB,CAAC,CAGD,mBACEZ,KAAA,QAAA0B,QAAA,eACE5B,IAAA,CAACN,SAAS,EAACmC,KAAK,CAAEtB,SAAU,CAACE,MAAM,CAAEA,MAAO,CAAE,CAAC,CAE9CI,IAAI,eACHb,IAAA,QAAK8B,GAAG,CAAEnC,QAAS,CAACoC,GAAG,CAAC,YAAY,CAACC,SAAS,CAAC,iBAAiB,CAAE,CACnE,cAEDhC,IAAA,CAACJ,WAAW,EACVa,MAAM,CAAEA,MAAO,CACfE,IAAI,CAAEA,IAAK,CACXE,IAAI,CAAEA,IAAK,CACXc,cAAc,CAAEA,cAAe,CAChC,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}